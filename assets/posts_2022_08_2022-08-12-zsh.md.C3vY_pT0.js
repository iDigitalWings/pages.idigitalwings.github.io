import{_ as s,a as i,o as a,aj as t}from"./chunks/framework.Ba_Ek9Jm.js";const c=JSON.parse('{"title":"Mac 安装 Zsh (Shell) 及设置","description":"","frontmatter":{"title":"Mac 安装 Zsh (Shell) 及设置","date":"2022-08-12T00:00:00.000Z","tags":["linux","shell","zsh"],"category":["其它"]},"headers":[],"relativePath":"posts/2022/08/2022-08-12-zsh.md","filePath":"posts/2022/08/2022-08-12-zsh.md","lastUpdated":1718173059000}'),h={name:"posts/2022/08/2022-08-12-zsh.md"},e=t(`<h2 id="home-brew" tabindex="-1">Home Brew <a class="header-anchor" href="#home-brew" aria-label="Permalink to &quot;Home Brew&quot;">​</a></h2><h2 id="mac-ports" tabindex="-1">Mac Ports <a class="header-anchor" href="#mac-ports" aria-label="Permalink to &quot;Mac Ports&quot;">​</a></h2><h2 id="fish-shell" tabindex="-1">Fish Shell <a class="header-anchor" href="#fish-shell" aria-label="Permalink to &quot;Fish Shell&quot;">​</a></h2><p><a href="https://fishshell.com/" target="_blank" rel="noreferrer">Finally, a command line shell for the 90s.</a></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> port</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> fish</span></span></code></pre></div><h2 id="zsh" tabindex="-1">zsh <a class="header-anchor" href="#zsh" aria-label="Permalink to &quot;zsh&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -fsSL</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;</span></span></code></pre></div><h2 id="antigen" tabindex="-1">Antigen <a class="header-anchor" href="#antigen" aria-label="Permalink to &quot;Antigen&quot;">​</a></h2><p><a href="https://antigen.sharats.me/" target="_blank" rel="noreferrer">A plugin manager for zsh, inspired by oh-my-zsh and vundle.</a></p><h2 id="zinit" tabindex="-1">Zinit <a class="header-anchor" href="#zinit" aria-label="Permalink to &quot;Zinit&quot;">​</a></h2><p><a href="https://github.com/zdharma-continuum/zinit#zinit-wiki" target="_blank" rel="noreferrer">Zinit</a> is a flexible and fast Zshell plugin manager that will allow you to install everything from GitHub and other sites.</p><p>配置一些插件和主题：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># Zinit plugins</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">zinit</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> light</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> zsh-users/zsh-completions</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">zinit</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> light</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> zsh-users/zsh-syntax-highlighting</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">zinit</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> light</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> zsh-users/zsh-autosuggestions</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">zinit</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> light</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> zsh-users/zsh-history-substring-search</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># Plugin history-search-multi-word loaded with investigating.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">zinit</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> load</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> zdharma-continuum/history-search-multi-word</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">zinit</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> light</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> zdharma-continuum/fast-syntax-highlighting</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># Load powerlevel10k theme</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">zinit</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ice</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> depth&quot;1&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> # git clone depth</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">zinit</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> light</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> romkatv/powerlevel10k</span></span></code></pre></div><h2 id="zsh-completions" tabindex="-1">zsh-completions <a class="header-anchor" href="#zsh-completions" aria-label="Permalink to &quot;zsh-completions&quot;">​</a></h2><p><a href="https://github.com/zsh-users/zsh-completions" target="_blank" rel="noreferrer">zsh-completions</a>.</p><p>使用 zinit 安装：</p><h3 id="install" tabindex="-1">Install <a class="header-anchor" href="#install" aria-label="Permalink to &quot;Install&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">bash</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --fail</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --show-error</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --silent</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --location</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> https://raw.githubusercontent.com/zdharma-continuum/zinit/HEAD/scripts/install.sh)&quot;</span></span></code></pre></div><p>This will install Zinit in <code>~/.local/share/zinit/zinit.git</code>. <code>.zshrc</code> will be updated with three lines of code that will be added to the bottom. The lines will be sourcing <code>zinit.zsh</code> and setting up completion for command <code>zinit</code>.</p><p>After installing and reloading the shell, compile Zinit via:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ~/.zshrc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">zinit</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> self-update</span></span></code></pre></div><h2 id="kubernetes" tabindex="-1">Kubernetes <a class="header-anchor" href="#kubernetes" aria-label="Permalink to &quot;Kubernetes&quot;">​</a></h2><h3 id="提示" tabindex="-1">提示 <a class="header-anchor" href="#提示" aria-label="Permalink to &quot;提示&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> kube-ps1</span></span></code></pre></div><h3 id="krew-sigs-k8s-io" tabindex="-1">krew.sigs.k8s.io <a class="header-anchor" href="#krew-sigs-k8s-io" aria-label="Permalink to &quot;krew.sigs.k8s.io&quot;">​</a></h3><p>插件管理器 <a href="https://github.com/kubernetes-sigs/krew/" target="_blank" rel="noreferrer">krew</a>。</p><p><a href="https://krew.sigs.k8s.io/docs/user-guide/setup/install/" target="_blank" rel="noreferrer">install krew</a>.</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  set</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -x</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">; </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mktemp</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> &amp;&amp;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  OS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">uname</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> tr</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;[:upper:]&#39; &#39;[:lower:]&#39;)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> &amp;&amp;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  ARCH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">uname</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> sed</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;s/x86_64/amd64/&#39; </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">-e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;s/\\(arm\\)\\(64\\)\\?.*/\\1\\2/&#39; </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">-e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;s/aarch64$/arm64/&#39;)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> &amp;&amp;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  KREW</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;krew-\${</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">OS</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">}_\${</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">ARCH</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> &amp;&amp;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">  curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -fsSLO</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;https://github.com/kubernetes-sigs/krew/releases/latest/download/\${</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">KREW</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">}.tar.gz&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> &amp;&amp;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">  tar</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> zxvf</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;\${</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">KREW</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">}.tar.gz&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> &amp;&amp;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">  ./</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">&quot;\${</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">KREW</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">}&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> krew</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span></code></pre></div><p>添加目录 <code>$HOME/.krew/bin</code> 到 PATH 里，更新 <code>.bashrc</code> or <code>.zshrc</code> 文件。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;\${</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">KREW_ROOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:-</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$HOME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">krew</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">}/bin:</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span></code></pre></div><p>检查安装成功：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> krew</span></span></code></pre></div><h3 id="kubectx" tabindex="-1">kubectx <a class="header-anchor" href="#kubectx" aria-label="Permalink to &quot;kubectx&quot;">​</a></h3><p><a href="https://github.com/ahmetb/kubectx" target="_blank" rel="noreferrer">kubectx + kubens: Power tools for kubectl</a></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> krew</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ctx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> krew</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ns</span></span></code></pre></div><hr><ul><li><a href="https://ohmyz.sh/" target="_blank" rel="noreferrer">https://ohmyz.sh/</a></li><li><a href="https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/kube-ps1" target="_blank" rel="noreferrer">https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/kube-ps1</a></li></ul>`,37),l=[e];function n(p,k,r,d,o,F){return a(),i("div",null,l)}const y=s(h,[["render",n]]);export{c as __pageData,y as default};
