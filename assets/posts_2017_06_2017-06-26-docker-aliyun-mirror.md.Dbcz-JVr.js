import{_ as i,a,af as s,o as r}from"./chunks/framework.C87LdZyP.js";const k=JSON.parse('{"title":"Docker registry china mirror","description":"","frontmatter":{"title":"Docker registry china mirror","date":"2017-06-26T00:00:00.000Z","tags":["docker"],"category":["DevOps"]},"headers":[],"relativePath":"posts/2017/06/2017-06-26-docker-aliyun-mirror.md","filePath":"posts/2017/06/2017-06-26-docker-aliyun-mirror.md","lastUpdated":1718193786000}'),t={name:"posts/2017/06/2017-06-26-docker-aliyun-mirror.md"};function n(l,e,o,c,p,h){return r(),a("div",null,e[0]||(e[0]=[s(`<p>Config file:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">/etc/default/docker</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">DOCKER_OPTS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;-g /var/lib/docker --registry-mirror=https://mirror-hz.acs.aliyun.com &quot;</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">2021-11-09更新</p><p>gcr.azk8s.cn 的镜像已不可用。</p><p>使用中科大的镜像</p><ul><li>quay.mirrors.ustc.edu.cn</li></ul></div><h2 id="aws" tabindex="-1">aws <a class="header-anchor" href="#aws" aria-label="Permalink to &quot;aws&quot;">​</a></h2><p><code>vi /etc/sysconfig/docker</code></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># The max number of open files for the daemon itself, and all</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># running containers.  The default value of 1048576 mirrors the value</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># used by the systemd service unit.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">DAEMON_MAXFILES</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">1048576</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># Additional startup options for the Docker daemon, for example:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># OPTIONS=&quot;--ip-forward=true --iptables=true&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># By default we limit the number of open files per container</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">OPTIONS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;--default-ulimit nofile=1024:4096 --registry-mirror=https://4t1i3u2a.mirror.aliyuncs.com &quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># How many seconds the sysvinit script waits for the pidfile to appear</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># when starting the daemon.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">DAEMON_PIDFILE_TIMEOUT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">10</span></span></code></pre></div><p><a href="https://gkhkf8gb.mirror.aliyuncs.com" target="_blank" rel="noreferrer">https://gkhkf8gb.mirror.aliyuncs.com</a></p><p>下面转自 Xinkun Blog:</p><h2 id="dockerhub-docker-io" tabindex="-1">dockerhub (docker.io) <a class="header-anchor" href="#dockerhub-docker-io" aria-label="Permalink to &quot;dockerhub (docker.io)&quot;">​</a></h2><p><code>dockerhub.azk8s.cn</code></p><ul><li><code>dockerhub.azk8s.cn/&lt;repo-name&gt;/&lt;image-name&gt;:&lt;version&gt;</code></li><li><code>dockerhub.azk8s.cn/microsoft/azure-cli:2.0.61 dockerhub.azk8s.cn/library/nginx:1.15</code></li></ul><h2 id="gcr-io" tabindex="-1">gcr.io <a class="header-anchor" href="#gcr-io" aria-label="Permalink to &quot;gcr.io&quot;">​</a></h2><p><code>gcr.azk8s.cn</code></p><ul><li><code>gcr.azk8s.cn/&lt;repo-name&gt;/&lt;image-name&gt;:&lt;version&gt;</code></li><li><code>gcr.azk8s.cn/google_containers/hyperkube-amd64:v1.13.5</code></li></ul><h2 id="quay-io" tabindex="-1">quay.io <a class="header-anchor" href="#quay-io" aria-label="Permalink to &quot;quay.io&quot;">​</a></h2><p><code>quay.azk8s.cn</code></p><ul><li><code>quay.azk8s.cn/&lt;repo-name&gt;/&lt;image-name&gt;:&lt;version&gt;</code></li><li><code>quay.azk8s.cn/deis/go-dev:v1.10.0</code></li></ul><p>Note: <code>k8s.gcr.io</code> would redirect to <code>gcr.io/google-containers</code>, following image urls are identical:</p><ul><li>k8s.gcr.io/pause-amd64:3.1</li><li>gcr.io/google_containers/pause-amd64:3.1</li></ul><hr><div style="text-align:center;color:#00000099;font-size:14px;">END</div><ul><li><a href="https://xuxinkun.github.io/2019/06/11/cn-registry/" target="_blank" rel="noreferrer">https://xuxinkun.github.io/2019/06/11/cn-registry/</a></li><li><a href="https://github.com/gotok8s/gotok8s" target="_blank" rel="noreferrer">https://github.com/gotok8s/gotok8s</a></li><li><a href="http://mirror.azure.cn/" target="_blank" rel="noreferrer">http://mirror.azure.cn/</a></li><li><a href="http://mirror.azure.cn/help/docker-registry-proxy-cache.html" target="_blank" rel="noreferrer">Docker Registry Proxy Cache 帮助</a></li><li><a href="https://github.com/Azure/container-service-for-azure-china/tree/master/aks#22-container-registry-proxy" target="_blank" rel="noreferrer">Azure China container registry proxy</a></li></ul>`,23)]))}const g=i(t,[["render",n]]);export{k as __pageData,g as default};
