import{_ as i,a,af as n,o as p}from"./chunks/framework.C87LdZyP.js";const g=JSON.parse('{"title":"ApiSix Kubernetes Upgrade","description":"","frontmatter":{"title":"ApiSix Kubernetes Upgrade","date":"2021-10-26T00:00:00.000Z","tags":["apisix"],"category":["运维"]},"headers":[],"relativePath":"posts/2021/10/2021-10-25-apisix-upgrade.md","filePath":"posts/2021/10/2021-10-25-apisix-upgrade.md","lastUpdated":1718173059000}'),t={name:"posts/2021/10/2021-10-25-apisix-upgrade.md"};function e(l,s,h,k,r,d){return p(),a("div",null,s[0]||(s[0]=[n(`<div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># git clone https://github.com/apache/apisix-helm-chart.git</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># install</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># update git repo</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> pull</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># upgrade apisix</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">helm</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apisix</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> charts/apisix</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  --set</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gateway.type=LoadBalancer</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  --set</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ingress-controller.enabled=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">true</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  --set</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> etcd.persistence.storageClass=&quot;alicloud-disk-ssd&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  --set</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> etcd.persistence.size=&quot;20Gi&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  --namespace</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ingress-apisix</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># show apisix</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> get</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --namespace</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ingress-apisix</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> svc</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -w</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apisix-gateway</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># upgrade dashboard</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">helm</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apisix-dashboard</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> charts/apisix-dashboard</span></span></code></pre></div>`,1)]))}const c=i(t,[["render",e]]);export{g as __pageData,c as default};
