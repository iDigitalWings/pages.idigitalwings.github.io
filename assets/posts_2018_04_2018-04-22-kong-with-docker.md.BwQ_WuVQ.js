import{_ as i,a,af as n,o as h}from"./chunks/framework.C87LdZyP.js";const t="/assets/kong-dashboard-preview.Dsm3yZnc.png",F=JSON.parse('{"title":"Install Kong with Docker","description":"","frontmatter":{"title":"Install Kong with Docker","date":"2018-04-22T00:00:00.000Z","tags":["docker","kong"]},"headers":[],"relativePath":"posts/2018/04/2018-04-22-kong-with-docker.md","filePath":"posts/2018/04/2018-04-22-kong-with-docker.md","lastUpdated":1718173059000}'),k={name:"posts/2018/04/2018-04-22-kong-with-docker.md"};function p(l,s,e,r,d,g){return h(),a("div",null,s[0]||(s[0]=[n(`<h2 id="_1-link-kong-to-either-a-cassandra-or-postgresql-container" tabindex="-1">1. Link Kong to either a Cassandra or PostgreSQL container <a class="header-anchor" href="#_1-link-kong-to-either-a-cassandra-or-postgresql-container" aria-label="Permalink to &quot;1. Link Kong to either a Cassandra or PostgreSQL container&quot;">​</a></h2><h4 id="cassandra" tabindex="-1">Cassandra <a class="header-anchor" href="#cassandra" aria-label="Permalink to &quot;Cassandra&quot;">​</a></h4><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> kong-database</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">                -p</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 9042:9042</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                cassandra:3</span></span></code></pre></div><p>or</p><h4 id="postgres" tabindex="-1">Postgres <a class="header-anchor" href="#postgres" aria-label="Permalink to &quot;Postgres&quot;">​</a></h4><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> kong-database</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">                -p</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 5432:5432</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">                -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;POSTGRES_USER=kong&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">                -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;POSTGRES_DB=kong&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                postgres:9.5</span></span></code></pre></div><h2 id="_2-prepare-your-database" tabindex="-1">2. Prepare your database <a class="header-anchor" href="#_2-prepare-your-database" aria-label="Permalink to &quot;2. Prepare your database&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    --link</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> kong-database:kong-database</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;KONG_DATABASE=postgres&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;KONG_PG_HOST=kong-database&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;KONG_CASSANDRA_CONTACT_POINTS=kong-database&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    kong</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> kong</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> migrations</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> up</span></span></code></pre></div><h2 id="_3-start-kong" tabindex="-1">3 Start Kong <a class="header-anchor" href="#_3-start-kong" aria-label="Permalink to &quot;3 Start Kong&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> kong</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    --link</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> kong-database:kong-database</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;KONG_DATABASE=cassandra&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;KONG_CASSANDRA_CONTACT_POINTS=kong-database&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;KONG_PROXY_ACCESS_LOG=/dev/stdout&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;KONG_ADMIN_ACCESS_LOG=/dev/stdout&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;KONG_PROXY_ERROR_LOG=/dev/stderr&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;KONG_ADMIN_ERROR_LOG=/dev/stderr&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;KONG_ADMIN_LISTEN=0.0.0.0:8001&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;KONG_ADMIN_LISTEN_SSL=0.0.0.0:8444&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -p</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 8000:8000</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -p</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 8443:8443</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -p</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 8001:8001</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -p</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 8444:8444</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    kong:0.12</span></span></code></pre></div><p>If everything went well, and if you created your container with the default ports, Kong should be listening on your host&#39;s <code>8000</code> (Proxy), <code>8443</code> (Proxy SSL), <code>8001</code> (Admin API) and <code>8444</code> (Admin API SSL) ports.</p><h2 id="_4-use-kong-with-a-custom-configuration-and-a-custom-cassandra-postgresql-cluster" tabindex="-1">4. Use Kong with a custom configuration (and a custom Cassandra/PostgreSQL cluster) <a class="header-anchor" href="#_4-use-kong-with-a-custom-configuration-and-a-custom-cassandra-postgresql-cluster" aria-label="Permalink to &quot;4. Use Kong with a custom configuration (and a custom Cassandra/PostgreSQL cluster)&quot;">​</a></h2><p>You can override any property of the <a href="https://getkong.org/docs/0.13.x/configuration/" target="_blank" rel="noreferrer">Kong configuration</a> file with environment variables. Just prepend any Kong configuration property with the <code>KONG_</code> prefix, for example:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> kong</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;KONG_DATABASE=postgres&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;KONG_PG_HOST=kong-database&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;KONG_LOG_LEVEL=info&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;KONG_CUSTOM_PLUGINS=helloworld&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;KONG_PG_HOST=1.1.1.1&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;KONG_ADMIN_LISTEN=0.0.0.0:8001&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;KONG_ADMIN_LISTEN_SSL=0.0.0.0:8444&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -p</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 8000:8000</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -p</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 8443:8443</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -p</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 8001:8001</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    -p</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 8444:8444</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    kong:0.12</span></span></code></pre></div><h3 id="reload-kong-in-a-running-container" tabindex="-1">Reload Kong in a running container <a class="header-anchor" href="#reload-kong-in-a-running-container" aria-label="Permalink to &quot;Reload Kong in a running container&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -it</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> kong</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> kong</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> reload</span></span></code></pre></div><h3 id="kong-dashboard" tabindex="-1">Kong Dashboard <a class="header-anchor" href="#kong-dashboard" aria-label="Permalink to &quot;Kong Dashboard&quot;">​</a></h3><p>kong-dashboard 暂时只支持 kong 0.12</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 8080:8080</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --link</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> kong:kong</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  pgbi/kong-dashboard</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  start</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  --kong-url</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> http://kong:8001</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  --basic-auth</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> user1=password1</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> user2=password2</span></span></code></pre></div><p><img src="`+t+`" alt=""></p><h2 id="docker-compose" tabindex="-1">Docker Compose <a class="header-anchor" href="#docker-compose" aria-label="Permalink to &quot;Docker Compose&quot;">​</a></h2><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;2.1&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#  kong-database:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#    image: cassandra:3</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#    ports:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#      - 9042:9042</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">  kong-database</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">postgres:9.5</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">POSTGRES_USER=kong</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">POSTGRES_DB=kong</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">  kong-migration</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">kong:0.12</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    depends_on</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">kong-database</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">KONG_DATABASE=postgres</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">KONG_PG_HOST=kong-database</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">KONG_CASSANDRA_CONTACT_POINTS=kong-database</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    command</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">kong migrations up</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">  kong</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">kong:0.12</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    depends_on</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">kong-database</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">kong-migration</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">KONG_DATABASE=postgres</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">KONG_PG_HOST=kong-database</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">KONG_PG_DATABASE=kong</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">KONG_ADMIN_LISTEN=0.0.0.0:8001</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    ports</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">8000:8000</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">8001:8001</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">8443:8443</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">8444:8444</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">  kong-dashboard</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">pgbi/kong-dashboard</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    depends_on</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">kong</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    command</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">start --kong-url http://kong:8001  --basic-auth user1=password1 user2=password2</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    ports</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">8080:8080</span></span></code></pre></div><hr><ul><li><a href="https://store.docker.com/images/kong" target="_blank" rel="noreferrer">https://store.docker.com/images/kong</a></li><li><a href="https://hub.docker.com/r/pgbi/kong-dashboard/" target="_blank" rel="noreferrer">https://hub.docker.com/r/pgbi/kong-dashboard/</a></li></ul>`,24)]))}const C=i(k,[["render",p]]);export{F as __pageData,C as default};
