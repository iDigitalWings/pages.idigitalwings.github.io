import{_ as s,a as i,o as a,aj as n}from"./chunks/framework.Ba_Ek9Jm.js";const A=JSON.parse('{"title":"Vue Router Load Just Once","description":"","frontmatter":{"title":"Vue Router Load Just Once","date":"2017-09-05T00:00:00.000Z","tags":["vue"]},"headers":[],"relativePath":"posts/2017/09/2017-09-05-vue-router-load-compont-once.md","filePath":"posts/2017/09/2017-09-05-vue-router-load-compont-once.md","lastUpdated":1718193786000}'),t={name:"posts/2017/09/2017-09-05-vue-router-load-compont-once.md"},e=n(`<p>对于<code>component</code>相同的path, 点击之后并不会重新mount</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    path</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    component</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: Home,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    name</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;资源&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    iconCls</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;el-icon-message&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">//图标样式class</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    children</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        { path: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;/prmUser&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, component: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">require</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;./views/curd&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">), name: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;CurdUser&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, meta: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">            url: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;user&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        } },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        { path: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;/prmCustomer&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, component: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">require</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;./views/curd&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">), name: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;Customer&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, meta: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">            url: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;customer&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        } },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        { path: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;/service&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, component: Form, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;Form&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        { path: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;/node&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, component: user, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;列表&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">},</span></span></code></pre></div><p>一些方案:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">component</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        require</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;./components/views/UserSettings.vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">], resolve) </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    }</span></span></code></pre></div><p>上面方案无用,</p><p>下面方案会在点击的时候刷新整个页面.</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">router-view</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;"> :key</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;$route.path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">router-view</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span></code></pre></div><hr><p>Links:</p><ul><li><a href="https://github.com/vuejs/vue-router/issues/1074" target="_blank" rel="noreferrer">Vue router shows lazy-loaded route components only once #1074 </a></li><li><a href="https://forum.vuejs.org/t/reinitialize-components/2501/2" target="_blank" rel="noreferrer">https://forum.vuejs.org/t/reinitialize-components/2501/2</a></li></ul><hr><div style="text-align:center;color:#00000099;font-size:14px;">END</div>`,12),p=[e];function h(l,k,r,d,o,g){return a(),i("div",null,p)}const y=s(t,[["render",h]]);export{A as __pageData,y as default};
