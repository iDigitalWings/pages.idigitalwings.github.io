import{_ as s,a,o as i,aj as t}from"./chunks/framework.Ba_Ek9Jm.js";const e="/assets/rushjs.Cs_kfSQr.png",u=JSON.parse('{"title":"JavaScript Monorepos 工具","description":"","frontmatter":{"title":"JavaScript Monorepos 工具","date":"2022-08-15T00:00:00.000Z","tags":["javascript","monorepos"],"category":["其它"]},"headers":[],"relativePath":"posts/2022/08/2022-08-15-monorepos-tools.md","filePath":"posts/2022/08/2022-08-15-monorepos-tools.md","lastUpdated":1718173059000}'),n={name:"posts/2022/08/2022-08-15-monorepos-tools.md"},l=t(`<p>前段项目 Monorepos 工具主要有：</p><h2 id="nx" tabindex="-1"><a href="https://nx.dev/" target="_blank" rel="noreferrer">NX</a> <a class="header-anchor" href="#nx" aria-label="Permalink to &quot;[NX](https://nx.dev/)&quot;">​</a></h2><p><strong>Smart, Fast Extensible Build System</strong></p><h2 id="bit-dev" tabindex="-1"><a href="https://bit.dev/" target="_blank" rel="noreferrer">Bit.dev</a> <a class="header-anchor" href="#bit-dev" aria-label="Permalink to &quot;[Bit.dev](https://bit.dev/)&quot;">​</a></h2><ul><li>对 React 比较友好</li></ul><h2 id="npm-workspace" tabindex="-1"><a href="https://docs.npmjs.com/cli/v7/using-npm/workspaces" target="_blank" rel="noreferrer">npm workspace</a> <a class="header-anchor" href="#npm-workspace" aria-label="Permalink to &quot;[npm workspace](https://docs.npmjs.com/cli/v7/using-npm/workspaces)&quot;">​</a></h2><h2 id="yarn-workspace" tabindex="-1"><a href="https://classic.yarnpkg.com/lang/en/docs/workspaces/" target="_blank" rel="noreferrer">yarn workspace</a> <a class="header-anchor" href="#yarn-workspace" aria-label="Permalink to &quot;[yarn workspace](https://classic.yarnpkg.com/lang/en/docs/workspaces/)&quot;">​</a></h2><h2 id="pnpm-workspace" tabindex="-1"><a href="https://pnpm.io/workspaces" target="_blank" rel="noreferrer">pnpm workspace</a> <a class="header-anchor" href="#pnpm-workspace" aria-label="Permalink to &quot;[pnpm workspace](https://pnpm.io/workspaces)&quot;">​</a></h2><h2 id="lerna-js" tabindex="-1"><a href="https://lerna.js.org/" target="_blank" rel="noreferrer">lerna js</a> <a class="header-anchor" href="#lerna-js" aria-label="Permalink to &quot;[lerna js](https://lerna.js.org/)&quot;">​</a></h2><p><strong>The Original Tool for JavaScript Monorepos</strong></p><h2 id="git-submodules" tabindex="-1"><a href="https://www.git-scm.com/book/en/v2/Git-Tools-Submodules" target="_blank" rel="noreferrer">Git Submodules</a> <a class="header-anchor" href="#git-submodules" aria-label="Permalink to &quot;[Git Submodules](https://www.git-scm.com/book/en/v2/Git-Tools-Submodules)&quot;">​</a></h2><h2 id="git-subtree" tabindex="-1"><a href="https://www.atlassian.com/git/tutorials/git-subtree" target="_blank" rel="noreferrer">Git Subtree</a> <a class="header-anchor" href="#git-subtree" aria-label="Permalink to &quot;[Git Subtree](https://www.atlassian.com/git/tutorials/git-subtree)&quot;">​</a></h2><h2 id="bolt" tabindex="-1"><a href="https://github.com/boltpkg/bolt" target="_blank" rel="noreferrer">Bolt</a> <a class="header-anchor" href="#bolt" aria-label="Permalink to &quot;[Bolt](https://github.com/boltpkg/bolt)&quot;">​</a></h2><p>Bolt 基于 Yarn 实现了 Workspace，Bolt CLI 相当于 Yarn CLI 的替换。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> global</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> bolt</span></span></code></pre></div><p>目录：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">project</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> package.json</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> workspace-one</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">   ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> package.json</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">   └──</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> index.js</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">└──</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> workspace-two</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> package.json</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    └──</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> index.js</span></span></code></pre></div><p>Configuration in <code>package.json</code>：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#8DDB8C;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;my-project&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#8DDB8C;">  &quot;bolt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#8DDB8C;">    &quot;workspaces&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">      &quot;utils/*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">      &quot;apps/*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span></code></pre></div><p>命令：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">bolt</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> script</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">bolt</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> script</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">bolt</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> p</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> script</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">bolt</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> w</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> package</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> script</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">bolt</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ws</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --only=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;my-package&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> script</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">bolt</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ws</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --only=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;my-package&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> script</span></span></code></pre></div><h2 id="rushjs" tabindex="-1"><a href="https://rushjs.io/" target="_blank" rel="noreferrer">RushJS</a> <a class="header-anchor" href="#rushjs" aria-label="Permalink to &quot;[RushJS](https://rushjs.io/)&quot;">​</a></h2><p><a href="https://github.com/microsoft/rushstack" target="_blank" rel="noreferrer">RushJS Github</a> .</p><p><strong>Rush: a scalable monorepo manager for the web.</strong></p><p><img src="`+e+'" alt=""></p><p>Install:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> @microsoft/rush</span></span></code></pre></div><h2 id="bazel" tabindex="-1"><a href="https://bazel.build/" target="_blank" rel="noreferrer">Bazel</a> <a class="header-anchor" href="#bazel" aria-label="Permalink to &quot;[Bazel](https://bazel.build/)&quot;">​</a></h2><p><a href="https://github.com/bazelbuild/bazel/" target="_blank" rel="noreferrer">Bazel Github</a>.</p><p>构建和测试您的多语言、多平台项目。貌似不太适合 JS。</p><hr><ul><li><a href="https://blog.bitsrc.io/selecting-the-right-tool-for-your-monorepo-fafe409134b3" target="_blank" rel="noreferrer">https://blog.bitsrc.io/selecting-the-right-tool-for-your-monorepo-fafe409134b3</a></li><li><a href="https://segmentfault.com/a/1190000023258442" target="_blank" rel="noreferrer">https://segmentfault.com/a/1190000023258442</a></li><li><a href="https://monorepo.tools/" target="_blank" rel="noreferrer">monorepo.tools</a></li><li><a href="https://nx.dev/more-concepts/turbo-and-nx" target="_blank" rel="noreferrer">Nx and Turborepo</a></li></ul>',32),r=[l];function p(h,o,k,d,c,g){return i(),a("div",null,r)}const b=s(n,[["render",p]]);export{u as __pageData,b as default};
