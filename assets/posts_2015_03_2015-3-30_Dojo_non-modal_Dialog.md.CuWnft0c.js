import{_ as i,a as s,o as a,aj as l}from"./chunks/framework.Ba_Ek9Jm.js";const D=JSON.parse('{"title":"Dojo non-modal Dialog","description":"","frontmatter":{"title":"Dojo non-modal Dialog","date":"2022-03-30T00:00:00.000Z","tags":["js","dojo"]},"headers":[],"relativePath":"posts/2015/03/2015-3-30_Dojo_non-modal_Dialog.md","filePath":"posts/2015/03/2015-3-30_Dojo_non-modal_Dialog.md","lastUpdated":1718193786000}'),n={name:"posts/2015/03/2015-3-30_Dojo_non-modal_Dialog.md"},t=l(`<p>今天有个功能需要<code>non-modal</code>的Dialog，而<code>dijit/Dialg</code>明确指名了该控件是<code>modal</code>的，google了下，相关的空间有如下几个：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span>dojox/layout/FloatingPane</span></span>
<span class="line"><span>dojox/widget/Dialog</span></span>
<span class="line"><span>dojox/widget/DialogSimple</span></span></code></pre></div><p>有兴趣的大家可以看下效果各是什么用的．<code>dojox/widget/Dialog</code>有一个<code>modal</code>的属性．</p><p>还看到了一个不错的解决方案：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">require</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;dijit/form/Button&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;dijit/Dialog&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">],</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  function</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">Button</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> Dialog</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">({</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                    &#39;title&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;I am nonmodal&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                    &#39;class&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;nonModal&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">                  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  });</span></span></code></pre></div><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">.nonModal_underlay</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    display</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">none</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span></code></pre></div><p>还有在邮件列表里面有这样一种解决方法：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">dialogObj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> dijit.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">byId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;dialogId&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">dialogObj.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">show</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">// shows the dialog.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">dialogObj._underlay.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">hide</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">// hides underlay behind the dialog.</span></span></code></pre></div><p>上面的写法我没有尝试，不知道可行不可行，不过直接操作<code>_underlay</code>显然违背了api的初衷．</p><p>其他的方法不列举了，理论上应该使用<code>&#39;class&#39;:&#39;nonModal&#39;</code>这个方案的，这也是官网推荐的diy做法．</p><p>不过在测试之后发现了一个问题，在Dialog弹出之后，虽然没有modal层，按钮点击都可以，不过下面的输入框无法获得焦点．而我这里肯定要输入内容的，所以放弃这个方案，有时间在去研究一下原因．</p><p>最后采用<code>dojox/layout/FloatingPane</code>这个控件．各方面都满足要求：</p><ul><li>拖拽位置</li><li>拖拽大小</li><li>显示／隐藏</li><li>不影响下面的文本框的焦点获取</li><li>CSS定制方便</li></ul><p>参考：</p><ul><li><a href="http://stackoverflow.com/questions/7246749/dojo-non-modal-dialog" target="_blank" rel="noreferrer">stackoverflow 7246749</a></li><li><a href="http://dojotoolkit.org/reference-guide/1.9/dijit/Dialog.html#coloring-the-underlay" target="_blank" rel="noreferrer">dojo reference guide</a></li><li><a href="http://w3facility.org/question/dojo-non-modal-dialog/" target="_blank" rel="noreferrer">http://w3facility.org/question/dojo-non-modal-dialog/</a></li><li><a href="http://mail.dojotoolkit.org/pipermail/dojo-interest/2008-December/034939.html" target="_blank" rel="noreferrer">http://mail.dojotoolkit.org/pipermail/dojo-interest/2008-December/034939.html</a></li><li><a href="http://jsfiddle.net/shoe788/W3TvW/1/" target="_blank" rel="noreferrer">http://jsfiddle.net/shoe788/W3TvW/1/</a></li><li><a href="http://www.blogjava.net/chen45257211/articles/380786.html" target="_blank" rel="noreferrer">http://www.blogjava.net/chen45257211/articles/380786.html</a></li></ul><hr><div style="text-align:center;color:#00000099;font-size:14px;">END</div>`,17),e=[t];function p(o,h,d,k,r,g){return a(),s("div",null,e)}const y=i(n,[["render",p]]);export{D as __pageData,y as default};
