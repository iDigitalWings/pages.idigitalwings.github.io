import{_ as t,a as r,af as a,o}from"./chunks/framework.C87LdZyP.js";const h=JSON.parse('{"title":"Devon4j: Security","description":"","frontmatter":{"title":"Devon4j: Security","date":"2022-06-25T00:00:00.000Z","tags":["devon4j"],"category":["架构"]},"headers":[],"relativePath":"posts/2022/06/2022-06-25-devon4j-security.md","filePath":"posts/2022/06/2022-06-25-devon4j-security.md","lastUpdated":1718173059000}'),i={name:"posts/2022/06/2022-06-25-devon4j-security.md"};function d(n,e,s,c,l,p){return o(),r("div",null,e[0]||(e[0]=[a('<p>安全性是当今应用程序和企业 IT 环境最重要的跨领域关注点。 我们非常关心安全性，并为您提供详细的指南，以防止陷阱、漏洞和其他灾难。 虽然遵循我们的指南可以避免许多错误，但您仍然必须考虑安全性并在设计和实施中考虑它。 安全指南不仅会自动防止您受到任何伤害，还会为您提供已在不同软件产品中使用的提示和最佳实践。</p><p>安全性的一个重要方面是正确的身份验证和授权，如 <strong>访问控制</strong> 中所述。在下文中，我们将讨论潜在的漏洞和防止它们的保护。</p><h2 id="漏洞与保护" tabindex="-1">漏洞与保护 <a class="header-anchor" href="#漏洞与保护" aria-label="Permalink to &quot;漏洞与保护&quot;">​</a></h2><p>独立于经典的身份验证和授权机制，有许多常见的陷阱可能导致应用程序中的漏洞和安全问题， 例如 XSS、CSRF、SQL 注入、日志伪造等。 关于这方面的一个很好的信息来源是<a href="https://www.owasp.org" target="_blank" rel="noreferrer">OWASP</a>。 <em>我们在技术指南的安全</em>部分中分别解决了这些常见威胁，作为防止攻击的具体解决方案通常取决于相应的技术。 下表说明了常见威胁，并包含 devonfw 提供的解决方案和保护机制的链接：</p><p>表 37. 安全威胁和保护机制</p><table tabindex="0"><thead><tr><th><strong>威胁</strong></th><th><strong>保护</strong></th><th><strong>详情链接</strong></th></tr></thead><tbody><tr><td><a href="https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A1-Injection.html" target="_blank" rel="noreferrer">A1 注入</a></td><td>验证输入，转义输出，使用适当的框架</td><td><a href="https://devonfw.com/website/pages/docs/devonfw-guide_devon4j.wiki_guide-jpa.asciidoc.html#devonfw-guide_devon4j.wiki_guide-jpa.asciidoc_security" target="_blank" rel="noreferrer">SQL 注入</a></td></tr><tr><td><a href="https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A2-Broken_Authentication.html" target="_blank" rel="noreferrer">A2 认证损坏</a></td><td>加密所有通道，使用具有强密码策略的中央身份管理</td><td><a href="https://devonfw.com/website/pages/docs/asciidoc_devonfw-guide_devon4j.wiki_devon4j.asciidoc_guides.html#devonfw-guide_devon4j.wiki_guide-access-control.asciidoc_authentication" target="_blank" rel="noreferrer">验证</a></td></tr><tr><td><a href="https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A3-Sensitive_Data_Exposure.html" target="_blank" rel="noreferrer">A3 敏感数据暴露</a></td><td>使用安全的异常外观，相应地设计您的数据模型</td><td><a href="https://devonfw.com/website/pages/docs/devonfw-guide_devon4j.wiki_guide-security.asciidoc.html#devonfw-guide_devon4j.wiki_guide-service-layer.asciidoc_rest-exception-handling" target="_blank" rel="noreferrer">REST 异常处理</a></td></tr><tr><td><a href="https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A4-XML_External_Entities_(XXE).html" target="_blank" rel="noreferrer">A4 XML 外部实体</a></td><td>首选 JSON 而不是 XML，在解析（外部）XML 时确保<a href="https://docs.oracle.com/en/java/javase/11/security/java-api-xml-processing-jaxp-security-guide.html" target="_blank" rel="noreferrer">FSP</a></td><td><a href="https://devonfw.com/website/pages/docs/devonfw-guide_devon4j.wiki_guide-xml.asciidoc.html" target="_blank" rel="noreferrer">XML 指南</a></td></tr><tr><td><a href="https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A5-Broken_Access_Control.html" target="_blank" rel="noreferrer">A5 损坏的访问控制</a></td><td>确保对所有用例进行适当授权，<code>@DenyAll</code>默认使用强制执行</td><td><a href="https://devonfw.com/website/pages/docs/asciidoc_devonfw-guide_devon4j.wiki_devon4j.asciidoc_guides.html#devonfw-guide_devon4j.wiki_guide-access-control.asciidoc" target="_blank" rel="noreferrer">访问控制指南，</a>尤其是<a href="https://devonfw.com/website/pages/docs/asciidoc_devonfw-guide_devon4j.wiki_devon4j.asciidoc_guides.html#devonfw-guide_devon4j.wiki_guide-access-control.asciidoc_configuration-on-java-method-level" target="_blank" rel="noreferrer">方法授权</a></td></tr><tr><td><a href="https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A6-Security_Misconfiguration.html" target="_blank" rel="noreferrer">A6 安全配置错误</a></td><td>使用 devon4j 应用程序模板和指南来避免</td><td><a href="https://devonfw.com/website/pages/docs/devonfw-guide_devon4j.wiki_devon4j.asciidoc_tutorials.html#devonfw-guide_devon4j.wiki_tutorial-newapp.asciidoc" target="_blank" rel="noreferrer">tutorial-newapp</a>和<a href="https://devonfw.com/website/pages/docs/devonfw-guide_devon4j.wiki_guide-configuration.asciidoc.html#devonfw-guide_devon4j.wiki_guide-configuration.asciidoc_security" target="_blank" rel="noreferrer">敏感配置</a></td></tr><tr><td><a href="https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A7-Cross-Site_Scripting_(XSS).html" target="_blank" rel="noreferrer">A7 跨站脚本</a></td><td>防止 HTML、JavaScript 和 CSS 的注入（参见 A1）并了解同源策略</td><td><a href="https://devonfw.com/website/pages/docs/devonfw-guide_devon4j.wiki_devon4j.asciidoc_layers.html#devonfw-guide_devon4j.wiki_guide-client-layer.asciidoc" target="_blank" rel="noreferrer">客户层</a></td></tr><tr><td><a href="https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A8-Insecure_Deserialization.html" target="_blank" rel="noreferrer">A8 不安全的反序列化</a></td><td>使用简单且成熟的序列化格式，例如 JSON，防止泛型反序列化（针对多态类型）</td><td><a href="https://devonfw.com/website/pages/docs/devonfw-guide_devon4j.wiki_guide-json.asciidoc.html" target="_blank" rel="noreferrer">JSON指南</a>尤其是<a href="https://devonfw.com/website/pages/docs/devonfw-guide_devon4j.wiki_guide-json.asciidoc.html#devonfw-guide_devon4j.wiki_guide-json.asciidoc_json-and-inheritance" target="_blank" rel="noreferrer">继承</a>，<a href="https://devonfw.com/website/pages/docs/devonfw-guide_devon4j.wiki_guide-xml.asciidoc.html" target="_blank" rel="noreferrer">XML指南</a></td></tr><tr><td><a href="https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A9-Using_Components_with_Known_Vulnerabilities.html" target="_blank" rel="noreferrer">A9 使用具有已知漏洞的组件</a></td><td>订阅安全通讯，不断检查产品及其版本，使用 devonfw 依赖管理</td><td><a href="https://cve.mitre.org/news/newsletter.html" target="_blank" rel="noreferrer">CVE 通讯</a>和<a href="https://devonfw.com/website/pages/docs/devonfw-guide_devon4j.wiki_guide-security.asciidoc.html#devonfw-guide_devon4j.wiki_guide-security.asciidoc_dependency-check" target="_blank" rel="noreferrer">依赖检查</a></td></tr><tr><td><a href="https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A10-Insufficient_Logging%25252526Monitoring.html" target="_blank" rel="noreferrer">A10 不足的日志和监控</a></td><td>确保记录所有与安全相关的事件（登录、注销、错误），建立有效的监控</td><td><a href="https://devonfw.com/website/pages/docs/devonfw-guide_devon4j.wiki_guide-logging.asciidoc.html" target="_blank" rel="noreferrer">日志记录指南</a>和<a href="https://devonfw.com/website/pages/docs/devonfw-guide_devon4j.wiki_guide-monitoring.asciidoc.html" target="_blank" rel="noreferrer">监控指南</a></td></tr><tr><td><a href="https://owasp.org/www-chapter-ghana/assets/slides/IDOR.pdf" target="_blank" rel="noreferrer">不安全的直接对象引用</a></td><td>仅在获得适当授权的情况下使用直接对象引用 (ID)</td><td><a href="https://devonfw.com/website/pages/docs/devonfw-guide_devon4j.wiki_devon4j.asciidoc_layers.html#devonfw-guide_devon4j.wiki_guide-logic-layer.asciidoc_direct-object-references" target="_blank" rel="noreferrer">逻辑层</a></td></tr><tr><td><a href="https://owasp.org/www-community/attacks/csrf" target="_blank" rel="noreferrer">跨站请求伪造 (CSRF)</a></td><td>使用在 HTTP 标头中发送并在服务器上验证的显式 CSRF 安全令牌来保护可变服务操作</td><td><a href="https://devonfw.com/website/pages/docs/asciidoc_devonfw-guide_devon4j.wiki_devon4j.asciidoc_guides.html#devonfw-guide_devon4j.wiki_guide-csrf.asciidoc" target="_blank" rel="noreferrer">CSRF 指南</a></td></tr><tr><td><a href="https://owasp.org/www-community/attacks/Log_Injection" target="_blank" rel="noreferrer">日志伪造</a></td><td>转义日志消息中的换行符</td><td><a href="https://devonfw.com/website/pages/docs/devonfw-guide_devon4j.wiki_guide-logging.asciidoc.html#devonfw-guide_devon4j.wiki_guide-logging.asciidoc_security" target="_blank" rel="noreferrer">日志记录安全</a></td></tr><tr><td><a href="https://owasp.org/www-pdf-archive//OWASP_LA_New_OWASP_Top_10_David_Caissy_2017_07.pdf" target="_blank" rel="noreferrer">未经验证的重定向和转发</a></td><td>避免使用重定向和转发，以防您需要它们对解决方案进行安全审核。</td><td>devonfw 建议使用富客户端（SPA/RIA）。我们仅使用重定向以安全的方式登录。</td></tr></tbody></table><h2 id="高级安全" tabindex="-1">高级安全 <a class="header-anchor" href="#高级安全" aria-label="Permalink to &quot;高级安全&quot;">​</a></h2><p>虽然 OWASP Top 10 涵盖了应用程序安全的基本方面，但也有一些高级标准，例如<code>AVS</code>。 在 devonfw 中，我们在<a href="https://github.com/devonfw/security/wiki" target="_blank" rel="noreferrer">Application Security Quick Solution Guide</a>中解决了这个问题。</p><h2 id="工具" tabindex="-1">工具 <a class="header-anchor" href="#工具" aria-label="Permalink to &quot;工具&quot;">​</a></h2><h3 id="依赖检查" tabindex="-1">依赖检查 <a class="header-anchor" href="#依赖检查" aria-label="Permalink to &quot;依赖检查&quot;">​</a></h3><p>为了解决这个问题，<code>Using Components with Known Vulnerabilities</code>我们建议使用Maven 插件附带的<a href="https://www.owasp.org/index.php/OWASP_Dependency_Check" target="_blank" rel="noreferrer">OWASP 依赖检查，它可以分析已知</a><a href="https://en.wikipedia.org/wiki/Common_Vulnerabilities_and_Exposures" target="_blank" rel="noreferrer">CVE</a> 的依赖关系。为了运行这个检查，你可以简单地在任何 maven 项目上调用这个命令：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> org.owasp:dependency-check-maven:6.1.5:aggregate</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>该版本只是为了完整性。您应该检查自己是否使用了最新版本的插件。</p></div><p><a href="https://devonfw.com/website/pages/docs/devonfw-guide_devon4j.wiki_devon4j.asciidoc_tutorials.html#devonfw-guide_devon4j.wiki_tutorial-newapp.asciidoc" target="_blank" rel="noreferrer">如果您从我们的应用程序模板</a>构建 devon4j spring 应用程序，您可以使用配置文件更轻松地激活依赖项检查<code>security</code>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> clean</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -P</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> security</span></span></code></pre></div><p>这默认情况下不会运行，因为它会导致构建性能的一些开销。但是，请考虑至少每晚在您的 CI 中构建它。执行依赖检查后，您会在<code>target/dependency-check-report.html</code>的每个模块中找到结果。即使没有配置文件，也会在构建站点 (<code>mvn site</code>) 时生成报告。</p><h3 id="渗透测试" tabindex="-1">渗透测试 <a class="header-anchor" href="#渗透测试" aria-label="Permalink to &quot;渗透测试&quot;">​</a></h3><p>对于您的 Web 应用程序的渗透测试（漏洞测试），我们推荐以下工具：</p><ul><li><a href="https://www.owasp.org/index.php/OWASP_Zed_Attack_Proxy_Project" target="_blank" rel="noreferrer">ZAP</a>（OWASP Zed Attack Proxy Project）</li><li><a href="http://sqlmap.org/" target="_blank" rel="noreferrer">sqlmap</a>（或<a href="https://github.com/PaulSec/HQLmap" target="_blank" rel="noreferrer">HQLmap</a>）</li><li><a href="https://nmap.org/" target="_blank" rel="noreferrer">nmap</a></li><li>请参阅Christian Schneider的精彩演示<a href="https://jaxenter.com/security-open-source-toolbox-video-151314.html" target="_blank" rel="noreferrer">安全专家的工具箱</a>。</li></ul>',19)]))}const g=t(i,[["render",d]]);export{h as __pageData,g as default};
