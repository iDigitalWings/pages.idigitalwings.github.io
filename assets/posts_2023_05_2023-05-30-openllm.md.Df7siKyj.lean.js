import{_ as i}from"./chunks/1397863291123583.BVaNHdVv.js";import{_ as a,a as l,af as n,o as h}from"./chunks/framework.C87LdZyP.js";const c=JSON.parse('{"title":"ä½¿ç”¨ OpenLLM è¿è¡Œ ChatGLMã€Llama ç­‰ä»»æ„å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰","description":"","frontmatter":{"title":"ä½¿ç”¨ OpenLLM è¿è¡Œ ChatGLMã€Llama ç­‰ä»»æ„å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰","date":"2023-05-29T00:00:00.000Z","tags":["ai","ml"],"category":["AI"]},"headers":[],"relativePath":"posts/2023/05/2023-05-30-openllm.md","filePath":"posts/2023/05/2023-05-30-openllm.md","lastUpdated":1718175555000}'),t={name:"posts/2023/05/2023-05-30-openllm.md"};function e(p,s,k,d,F,r){return h(),l("div",null,s[0]||(s[0]=[n(`<blockquote><p>ä»Šå¤©ä»‹ç»è¿™ä¸ªå·¥å…·ï¼ˆOpenLLMï¼‰ï¼Œå¯ä»¥å¾ˆå¥½çš„å±è”½ LLM çš„åº•å±‚é€»è¾‘ï¼Œå®é™…ä½¿ç”¨çš„æ—¶å€™æ¯”ç›´æ¥æ‰‹å†™ Transformer è¦æ–¹ä¾¿å¤ªå¤šäº†ã€‚è€Œä¸”é›†æˆäº†è¿œç¨‹ API çš„è®¿é—®ï¼ŒåŒæ—¶å¯ä»¥å’Œ LangChain ç»“åˆï¼Œå¯ä»¥ä½œä¸ºç”Ÿäº§æœåŠ¡çš„ LLM åç«¯ä½¿ç”¨ã€‚</p></blockquote><p>æ–‡ç« å†…å®¹ï¼š</p><ul><li>ä»‹ç»</li><li>å®‰è£…ã€è¿è¡Œã€æœ¬åœ°å’Œè¿œç¨‹æ¥å£è°ƒç”¨å’Œéƒ¨ç½²ï¼ˆChatGLM2ä¸ºä¾‹ï¼‰</li><li>å¦‚ä½•è¿è¡Œ Llama 2</li><li>éƒ¨ç½²è¯´æ˜</li></ul><h2 id="ä»‹ç»" tabindex="-1">ä»‹ç» <a class="header-anchor" href="#ä»‹ç»" aria-label="Permalink to &quot;ä»‹ç»&quot;">â€‹</a></h2><p>ä¸€å¥è¯ä»‹ç»ï¼šOpenLLM æ˜¯å¯ç”¨äºåœ¨ç”Ÿäº§ä¸­æ“ä½œå¤§å‹è¯­è¨€æ¨¡å‹ (LLM) çš„å¼€æ”¾å¹³å°ã€‚ ä½¿ç”¨ OpenLLM å¯ä»¥è½»æ¾å¾®è°ƒã€æœåŠ¡ã€éƒ¨ç½²å’Œç›‘æ§ä»»ä½•å¤§è¯­è¨€æ¨¡å‹ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå€ŸåŠ© OpenLLMï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»»ä½•å¼€æºå¤§è¯­è¨€æ¨¡å‹è¿è¡Œæ¨ç†ï¼Œéƒ¨ç½²åˆ°äº‘ç«¯æˆ–æœ¬åœ°ï¼Œå¹¶æ„å»ºå¼ºå¤§çš„ AI åº”ç”¨ç¨‹åºã€‚</p><p>OpenLLM æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p><p>ğŸš‚ <strong>æœ€å…ˆè¿›çš„LLM</strong>ï¼šå†…ç½®æ”¯æŒå¹¿æ³›çš„å¼€æºLLMå’Œæ¨¡å‹è¿è¡Œæ—¶ï¼ŒåŒ…æ‹¬<code>Llama 2</code>ï¼Œ<code>StableLM</code>ï¼Œ<code>Falcon</code>ï¼Œ<code>Dolly</code>ï¼Œ<code>Flan-T5</code>ï¼Œ<code>ChatGLM</code>ï¼Œ<code>StarCoder</code>ç­‰ã€‚</p><p>ğŸ”¥<strong>çµæ´»çš„ API</strong>ï¼šä½¿ç”¨ä¸€ä¸ªå‘½ä»¤é€šè¿‡ <code>RESTful API</code> æˆ– <code>gRPC</code> ä¸º LLM æä¾›æœåŠ¡ï¼Œé€šè¿‡ WebUIã€CLIã€æˆ‘ä»¬çš„ Python/Javascript å®¢æˆ·ç«¯æˆ–ä»»ä½• HTTP å®¢æˆ·ç«¯è¿›è¡ŒæŸ¥è¯¢ã€‚</p><p>â›“ï¸ <strong>è‡ªç”±æ„å»º</strong>ï¼šå¯¹ <code>LangChain</code>ã€<code>BentoML</code> å’Œ <code>Hugging Face</code> çš„ä¸€æµæ”¯æŒï¼Œä½¿æ‚¨å¯ä»¥é€šè¿‡å°† LLM ä¸å…¶ä»–æ¨¡å‹å’ŒæœåŠ¡ç»„åˆæ¥è½»æ¾åˆ›å»ºè‡ªå·±çš„ AI åº”ç”¨ç¨‹åºã€‚</p><p>ğŸ¯ <strong>ç®€åŒ–éƒ¨ç½²</strong>ï¼šè‡ªåŠ¨ç”Ÿæˆ LLM æœåŠ¡å™¨ Docker æ˜ åƒæˆ–é€šè¿‡ â˜ï¸ BentoCloudéƒ¨ç½²ä¸ºæ— æœåŠ¡å™¨ç«¯ç‚¹ã€‚</p><p>ğŸ¤–ï¸ ç”Ÿæˆè‡ªå·±çš„ LLMï¼šå¾®è°ƒä»»ä½•æ³•å­¦ç¡•å£«ä»¥æ»¡è¶³ä½ çš„éœ€æ±‚ LLM.tuning()</p><h2 id="å¦‚ä½•ä½¿ç”¨" tabindex="-1">å¦‚ä½•ä½¿ç”¨ <a class="header-anchor" href="#å¦‚ä½•ä½¿ç”¨" aria-label="Permalink to &quot;å¦‚ä½•ä½¿ç”¨&quot;">â€‹</a></h2><p>é¦–å…ˆè¿˜æ˜¯ pip å®‰è£…ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> openllm</span></span></code></pre></div><p>å¦‚æœæƒ³ä½¿ç”¨æ¸…åå¤§å­¦çš„ ChatGLM æˆ–è€… ChatGLM 2ï¼Œéœ€è¦å®‰è£… OpenLLM çš„å˜ç§ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;openllm[chatglm]&quot;</span></span></code></pre></div><p>ç„¶åéªŒè¯ä¸€ä¸‹å®‰è£…æˆæœï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> openllm</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -h</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">Usage:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> openllm</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> [OPTIONS] COMMAND [ARGS]...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">     â–ˆâ–ˆâ•—</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">     â–ˆâ–ˆâ–ˆâ•—</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">   â–ˆâ–ˆâ–ˆâ•—</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">  â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ–ˆâ–ˆâ•—</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">     â–ˆâ–ˆâ•‘</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">     â–ˆâ–ˆâ–ˆâ–ˆâ•—</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> â–ˆâ–ˆâ–ˆâ–ˆâ•‘</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">  â–ˆâ–ˆâ•‘</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  â–ˆâ–ˆâ•”â–ˆâ–ˆâ•—</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">     â–ˆâ–ˆâ•‘</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">     â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">  â–ˆâ–ˆâ•‘</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> â–ˆâ–ˆâ•”â•â•â•</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">     â–ˆâ–ˆâ•‘</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">     â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">  â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> â•šâ•â•</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> â–ˆâ–ˆâ•‘</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">   â•šâ•â•â•â•â•â•</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> â•šâ•â•</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">     â•šâ•â•â•â•â•â•â•â•šâ•â•</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">     â•šâ•â•</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">  An</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> open</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> platform</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> operating</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> large</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> language</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> models</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> production.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">  Fine-tune,</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> serve,</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> deploy,</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> monitor</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> any</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> LLMs</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ease.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">...</span></span></code></pre></div><h2 id="å¯åŠ¨llmæœåŠ¡å™¨" tabindex="-1">å¯åŠ¨LLMæœåŠ¡å™¨ <a class="header-anchor" href="#å¯åŠ¨llmæœåŠ¡å™¨" aria-label="Permalink to &quot;å¯åŠ¨LLMæœåŠ¡å™¨&quot;">â€‹</a></h2><p>è¦å¯åŠ¨ LLM æœåŠ¡å™¨ï¼Œè¦ä½¿ç”¨ <code>openllm start</code>. ä¾‹å¦‚ï¼Œè¦å¯åŠ¨ <code>OPT</code> æœåŠ¡å™¨ï¼šï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">openllm</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> opt</span></span></code></pre></div><p>æˆ‘ä»¬ç”¨ ChatGLM2 æµ‹è¯•ï¼ŒæŒ‡å®šæ¨¡å‹å‹å·çš„ç«¯å£ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">openllm</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  start</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  chatglm</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --model-id=THUDM/chatglm2-6b</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --port=3600</span></span></code></pre></div><p>å¦‚æœæœºå™¨ç¡¬ä»¶ä¸å¤Ÿï¼Œå¯ä»¥æŒ‡å®šé‡åŒ–ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">openllm</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  start</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  chatglm</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --model-id=THUDM/chatglm2-6b</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --quantize</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> int8</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --port=3600</span></span></code></pre></div><p>å¯åŠ¨æˆåŠŸï¼Œè®¿é—® <code>http://127.0.0.1:3600</code> å¯ä»¥çœ‹åˆ°ï¼š</p><p><img src="`+i+`" alt=""></p><p>ChatGLM æ¶æ„ æ”¯æŒçš„æ¨¡å‹ ID å¦‚ä¸‹ï¼š</p><ul><li><code>thudm/chatglm-6b</code></li><li><code>thudm/chatglm-6b-int8</code></li><li><code>thudm/chatglm-6b-int4</code></li><li><code>thudm/chatglm2-6b</code></li><li><code>thudm/chatglm2-6b-int4</code></li></ul><h3 id="embedding" tabindex="-1">Embedding <a class="header-anchor" href="#embedding" aria-label="Permalink to &quot;Embedding&quot;">â€‹</a></h3><p>å¯ä»¥ <code>openllm embed</code> å‘½ä»¤è¿›è¡Œé‡åŒ–ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> openllm embed --endpoint http://127.0.0.1:3600 </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;I like to eat apples&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> -o json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">  &quot;embeddings&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> [</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    0.006569798570126295,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -0.031249752268195152,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -0.008072729222476482,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    0.00847396720200777,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -0.005293501541018486,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;many </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">embedding</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -0.002078012563288212,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -0.00676426338031888,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -0.002022686880081892</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  ],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">  &quot;num_tokens&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 9</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span></code></pre></div><p>æˆ–è€…ä½¿ç”¨ Python SDK è°ƒç”¨ï¼š</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> openllm</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">client </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> openllm.client.HTTPClient(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;http://127.0.0.1:3600&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">client.embed(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;I like to eat apples&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span></code></pre></div><h2 id="é›†æˆ-langchain" tabindex="-1">é›†æˆ LangChain <a class="header-anchor" href="#é›†æˆ-langchain" aria-label="Permalink to &quot;é›†æˆ LangChain&quot;">â€‹</a></h2><h3 id="å®‰è£…" tabindex="-1">å®‰è£… <a class="header-anchor" href="#å®‰è£…" aria-label="Permalink to &quot;å®‰è£…&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> langchain[llms]</span></span></code></pre></div><h3 id="æœ¬åœ°æ¨¡å‹" tabindex="-1">æœ¬åœ°æ¨¡å‹ <a class="header-anchor" href="#æœ¬åœ°æ¨¡å‹" aria-label="Permalink to &quot;æœ¬åœ°æ¨¡å‹&quot;">â€‹</a></h3><p>å¯ä»¥ä½¿ç”¨ OpenLLM æœ¬åœ°ç›´æ¥å¯åŠ¨æ¨¡å‹è°ƒç”¨ï¼ˆä¸éœ€è¦åˆšåˆšçš„<code>openllm start</code>ï¼‰ï¼š</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> langchain.llms </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> OpenLLM</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">llm </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> OpenLLM(</span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">model_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;llama&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">model_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;meta-llama/Llama-2-7b-hf&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">llm(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;What is the difference between a duck and a goose? And why there are so many Goose in Canada?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span></code></pre></div><h3 id="è¿œç¨‹äº¤äº’" tabindex="-1">è¿œç¨‹äº¤äº’ <a class="header-anchor" href="#è¿œç¨‹äº¤äº’" aria-label="Permalink to &quot;è¿œç¨‹äº¤äº’&quot;">â€‹</a></h3><p>å½“ç„¶ä¹Ÿæ”¯æŒè¿œç¨‹è°ƒç”¨ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šå¯åŠ¨ <code>openllm start</code>ï¼Œç„¶ååœ¨ä»»æ„å®¢æˆ·ç«¯è®¿é—®ã€‚</p><p>ä½¿ç”¨ <code>langchain.llms.OpenLLM</code> ç±»æ¥ä¸è¿œç¨‹ OpenLLM æœåŠ¡å™¨äº¤äº’ï¼Œé€šè¿‡æŒ‡å®šå…¶ URL æ¥è¿æ¥ï¼š</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> langchain.llms </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> OpenLLM</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">llm </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> OpenLLM(</span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">server_url</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;http://xx.xx.xx.1:3600&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">server_type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;grpc&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">llm(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;What is the difference between a duck and a goose? And why there are so many Goose in Canada?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span></code></pre></div><h3 id="å…¶ä»–é›†æˆ" tabindex="-1">å…¶ä»–é›†æˆ <a class="header-anchor" href="#å…¶ä»–é›†æˆ" aria-label="Permalink to &quot;å…¶ä»–é›†æˆ&quot;">â€‹</a></h3><p>è¿˜å¯ä»¥å’Œ Transformers ä»£ç†é›†æˆï¼Œç”¨çš„ä¸å¤šï¼Œæˆ‘å°±ä¸ä»‹ç»äº†ã€‚</p><h3 id="éƒ¨ç½²" tabindex="-1">éƒ¨ç½² <a class="header-anchor" href="#éƒ¨ç½²" aria-label="Permalink to &quot;éƒ¨ç½²&quot;">â€‹</a></h3><p>å¯ä»¥é€šè¿‡æ„å»º Bento æˆ–è€… å®¹å™¨è¿è¡Œã€‚</p><p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ„å»ºå®¹å™¨ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">bentoml</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> containerize</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">name:versio</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span></span></code></pre></div><p>å½“ç„¶æœ€æ–¹ä¾¿çš„æ˜¯ä½¿ç”¨ BentoCloud è¿è¡Œï¼Œå¦‚æœä½¿ç”¨äº† BentoCloud ï¼Œåº”è¯¥å¾ˆç†Ÿæ‚‰éƒ¨ç½²æ“ä½œçš„ï¼Œä¸å†èµ˜è¿°äº†ã€‚</p><h2 id="ä½¿ç”¨-llama-2" tabindex="-1">ä½¿ç”¨ Llama 2 <a class="header-anchor" href="#ä½¿ç”¨-llama-2" aria-label="Permalink to &quot;ä½¿ç”¨ Llama 2&quot;">â€‹</a></h2><h3 id="å®‰è£…-llama-å˜ä½“" tabindex="-1">å®‰è£… llama å˜ä½“ <a class="header-anchor" href="#å®‰è£…-llama-å˜ä½“" aria-label="Permalink to &quot;å®‰è£… llama å˜ä½“&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;openllm[llama]&quot;</span></span></code></pre></div><h3 id="å¯åŠ¨-llama-2" tabindex="-1">å¯åŠ¨ Llama 2 <a class="header-anchor" href="#å¯åŠ¨-llama-2" aria-label="Permalink to &quot;å¯åŠ¨ Llama 2&quot;">â€‹</a></h3><p>OpenLLM æ”¯æŒçš„æ¨¡å‹ ID å¦‚ä¸‹ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> meta-llama/Llama-2-70b-chat-hf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> meta-llama/Llama-2-13b-chat-hf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> meta-llama/Llama-2-7b-chat-hf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> meta-llama/Llama-2-70b-hf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> meta-llama/Llama-2-13b-hf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> meta-llama/Llama-2-7b-hf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> NousResearch/llama-2-70b-chat-hf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> NousResearch/llama-2-13b-chat-hf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> NousResearch/llama-2-7b-chat-hf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> NousResearch/llama-2-70b-hf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> NousResearch/llama-2-13b-hf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> NousResearch/llama-2-7b-hf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> openlm-research/open_llama_7b_v2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> openlm-research/open_llama_3b_v2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> openlm-research/open_llama_13b</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> huggyllama/llama-65b</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> huggyllama/llama-30b</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> huggyllama/llama-13b</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> huggyllama/llama-7b</span></span></code></pre></div><p>æ‰€ä»¥ä½ å¯ä»¥å¯åŠ¨ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">openllm</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  start</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> llama</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --model-id=meta-llama/Llama-2-7b-hf</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --port=3600</span></span></code></pre></div><p>æˆ‘ä¹‹å‰å°±ä¸‹è½½è¿‡æ¨¡å‹ï¼Œæ‰€ä»¥å¯åŠ¨å¾ˆå¿«ï¼Œå¦‚æœç¬¬ä¸€æ¬¡ç”¨ï¼Œå¯èƒ½è¦ä¸‹è½½æ¨¡å‹ä¸‹è½½å¾ˆä¹…ã€‚</p><h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to &quot;æœ€å&quot;">â€‹</a></h2><p>å¦‚æœæ˜¯ä¸ªäººä½¿ç”¨ï¼Œç›®å‰ä¸ºæ­¢è¿˜æ˜¯ ChatGPTã€Bardã€Claude è¿™æ ·çš„å•†ä¸šæœåŠ¡æ•ˆæœæ›´å¥½ï¼Œ ä½†æ˜¯ä½ è¦ç¡®å®šç»‘å®šå¼€æºç”Ÿæ€ï¼Œæˆ–è€…ä½¿ç”¨è‡ªå·±çš„æ¨¡å‹åšåº”ç”¨ï¼Œé‚£ä¹ˆåŸºäº OpenLLM å¼€å‘æœ‰å¾ˆå¤§çš„çµæ´»æ€§ã€‚</p><hr><div style="text-align:center;color:#00000099;font-size:14px;">END</div>`,65)]))}const y=a(t,[["render",e]]);export{c as __pageData,y as default};
