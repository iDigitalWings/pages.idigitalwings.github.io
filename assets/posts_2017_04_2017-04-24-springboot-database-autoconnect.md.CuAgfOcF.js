import{_ as i,a,af as n,o as t}from"./chunks/framework.C87LdZyP.js";const c=JSON.parse('{"title":"Spring Boot Database Auto Connect","description":"Spring Boot Database Auto Connect","frontmatter":{"title":"Spring Boot Database Auto Connect","date":"2017-04-24T00:00:00.000Z","img":"docker-jekyll.jpg","description":"Spring Boot Database Auto Connect","tags":["spring","springboot","database","java"],"category":["Java"]},"headers":[],"relativePath":"posts/2017/04/2017-04-24-springboot-database-autoconnect.md","filePath":"posts/2017/04/2017-04-24-springboot-database-autoconnect.md","lastUpdated":1718193786000}'),e={name:"posts/2017/04/2017-04-24-springboot-database-autoconnect.md"};function p(l,s,h,k,r,o){return t(),a("div",null,s[0]||(s[0]=[n(`<p>SpringBoot配置数据库的自动重连：</p><p><a href="http://stackoverflow.com/questions/22684807/spring-boot-jpa-configuring-auto-reconnect" target="_blank" rel="noreferrer">http://stackoverflow.com/questions/22684807/spring-boot-jpa-configuring-auto-reconnect</a></p><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">spring.datasource</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    max-idle</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">10</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    max-lifetime</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">10000</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    min-idle</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">5</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    initial-size</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">5</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    test-on-borrow</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    test-while-idle</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    validationQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">SELECT 1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    time-between-eviction-runs-millis</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">18800</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    jdbc-interceptors</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">ConnectionState;SlowQueryReport(threshold=5)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    validation-query</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">SELECT 1 FROM DUAL</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    spring.datasource.dbcp.test-while-idle=true</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    spring.datasource.dbcp.time-between-eviction-runs-millis=3600000</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    spring.datasource.dbcp.validation-query=SELECT 1</span></span></code></pre></div><hr><div style="text-align:center;color:#00000099;font-size:14px;">END</div>`,5)]))}const g=i(e,[["render",p]]);export{c as __pageData,g as default};
