import{_ as i,a,af as n,o as h}from"./chunks/framework.C87LdZyP.js";const g=JSON.parse('{"title":"Docker HAProxy","description":"","frontmatter":{"title":"Docker HAProxy","date":"2017-11-21T00:00:00.000Z","tags":["docker","haproxy"]},"headers":[],"relativePath":"posts/2017/11/2017-11-21-2-docker-haproxy.md","filePath":"posts/2017/11/2017-11-21-2-docker-haproxy.md","lastUpdated":1718173059000}'),l={name:"posts/2017/11/2017-11-21-2-docker-haproxy.md"};function t(k,s,p,e,r,d){return h(),a("div",null,s[0]||(s[0]=[n(`<h2 id="run-with-docker" tabindex="-1">Run with Docker <a class="header-anchor" href="#run-with-docker" aria-label="Permalink to &quot;Run with Docker&quot;">​</a></h2><h3 id="use-dockerfile" tabindex="-1">use dockerfile <a class="header-anchor" href="#use-dockerfile" aria-label="Permalink to &quot;use dockerfile&quot;">​</a></h3><p><code>Dockerfile</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span>FROM haproxy:1.7</span></span>
<span class="line"><span>COPY haproxy.cfg /usr/local/etc/haproxy/haproxy.cfg</span></span></code></pre></div><p>build</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span>docker build -t my-haproxy .</span></span></code></pre></div><p>test configuration</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span>docker run -it --rm --name haproxy-syntax-check my-haproxy haproxy -c -f /usr/local/etc/haproxy/haproxy.cfg</span></span></code></pre></div><p>run</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span>docker run -d --name my-running-haproxy my-haproxy</span></span></code></pre></div><h3 id="via-bind-mount" tabindex="-1">via bind mount <a class="header-anchor" href="#via-bind-mount" aria-label="Permalink to &quot;via bind mount&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span>docker run -d --name my-running-haproxy -v /path/to/etc/haproxy:/usr/local/etc/haproxy:ro haproxy:1.7</span></span></code></pre></div><h3 id="reloading-config" tabindex="-1">reloading config <a class="header-anchor" href="#reloading-config" aria-label="Permalink to &quot;reloading config&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span>docker kill -s HUP my-running-haproxy</span></span></code></pre></div><h2 id="use-compose" tabindex="-1">Use compose <a class="header-anchor" href="#use-compose" aria-label="Permalink to &quot;Use compose&quot;">​</a></h2><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;2&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">  haproxy</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">haproxy:1.7</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    container_name</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">haproxy</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    hostname</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">haproxy</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    restart</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">always</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    ports</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">     - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;4369:4369&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">     - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">/etc/timezone:/etc/timezone</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">     - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">$PWD/haproxy:/usr/local/etc/haproxy:ro</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    extra_hosts</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">     - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;rabbit81:172.16.120.81&quot;</span></span></code></pre></div><h2 id="配置实例" tabindex="-1">配置实例 <a class="header-anchor" href="#配置实例" aria-label="Permalink to &quot;配置实例&quot;">​</a></h2><div class="language-coffee vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">coffee</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">###########全局配置#########</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">global</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    log</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 127.0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">   local0 </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#[日志输出配置，所有日志都记录在本机，通过local0输出]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    log</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 127.0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">1</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">   local1</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> notice  </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#定义haproxy 日志级别[error warringinfo debug]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        daemon      </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#以后台形式运行harpoxy</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        nbproc</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">   #设置进程数量</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        pidfile </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">home</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">haproxy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">haproxy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">conf</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">haproxy.pid   </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#haproxy 进程PID文件</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    ulimit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">-</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">n</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 819200</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">   #ulimit 的数量限制</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    maxconn</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 4096</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    #默认最大连接数,需考虑ulimit-n限制</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">        #chroot /usr/share/haproxy #chroot运行路径</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    uid</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 99</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">                    #运行haproxy 用户 UID</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        gid</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 99</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">                    #运行haproxy 用户组gid</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">        #debug      #haproxy 调试级别，建议只在开启单进程的时候调试</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">        #quiet</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">########默认配置############</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">defaults</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    log</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> global</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        mode</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> http               </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#默认的模式mode { tcp|http|health }，tcp是4层，http是7层，health只会返回OK</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        option</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  httplog         </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#日志类别,采用httplog</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    option</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  dontlognull     </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#不记录健康检查日志信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    retries</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 2</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">               #两次连接失败就认为是服务器不可用，也可以通过后面设置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    option</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  forwardfor   </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#如果后端服务器需要获得客户端真实ip需要配置的参数，可以从Http Header中获得客户端ip</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    option</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  httpclose    </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#每次请求完毕后主动关闭http通道,haproxy不支持keep-alive,只能模拟这种模式的实现</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">        #option redispatch       #当serverId对应的服务器挂掉后，强制定向到其他健康的服务器，以后将不支持</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        option</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> abortonclose     </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#当服务器负载很高的时候，自动结束掉当前队列处理比较久的链接</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        maxconn</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 4096</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">            #默认的最大连接数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        timeout</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> connect</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">  5000ms</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  #连接超时</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        timeout</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> client</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 30000ms</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  #客户端超时</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        timeout</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> server</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 30000ms</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  #服务器超时</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">        #timeout check 2000      #心跳检测超时</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    #timeout http-keep-alive10s   #默认持久连接超时时间</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    #timeout http-request   10s   #默认http请求超时时间</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">        #timeoutqueue          1m     #默认队列超时时间</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    balance</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> roundrobin    </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#设置默认负载均衡方式，轮询方式</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">        #balance source        # 设置默认负载均衡方式，类似于nginx的ip_hash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">        #balnace leastconn     #设置默认负载均衡方式，最小连接数</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">########统计页面配置########</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> admin_stats</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        bind</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">1080</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">               #设置Frontend和Backend的组合体，监控组的名称，按需要自定义名称</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        mode</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> http                       </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#http的7层模式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        option</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> httplog                  </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#采用http日志格式</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">        #log 127.0.0.1 local0 err       #错误日志记录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        maxconn</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 10</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">                      #默认的最大连接数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        stats</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> refresh</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 30s</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">               #统计页面自动刷新时间</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        stats</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> uri </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">stats                </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#统计页面url</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        stats</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> realm</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> XingCloud\\ Haproxy  </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#统计页面密码框上提示文本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        stats</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> auth</span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;"> admin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">admin     </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#设置监控页面的用户和密码:admin,可以设置多个用户名</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        stats</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> auth</span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">  Frank</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">Frank   </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#设置监控页面的用户和密码：Frank</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        stats</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> hide</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">version              </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#隐藏统计页面上HAProxy的版本信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    stats</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  admin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> TRUE       </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#设置手工启动/禁用，后端服务器(haproxy-1.4.9以后版本)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">########设置haproxy 错误页面#####</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">errorfile</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 403</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  /</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">home</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">haproxy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">haproxy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">errorfiles</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">403</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.http</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">errorfile</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 500</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> /</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">home</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">haproxy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">haproxy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">errorfiles</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.http</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">errorfile</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 502</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> /</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">home</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">haproxy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">haproxy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">errorfiles</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">502</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.http</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">errorfile</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 503</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> /</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">home</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">haproxy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">haproxy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">errorfiles</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">503</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.http</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">errorfile</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 504</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> /</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">home</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">haproxy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">haproxy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">errorfiles</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">504</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.http</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">########frontend前端配置##############</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">bind </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">*:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">80</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    #这里建议使用bind *:80的方式，要不然做集群高可用的时候有问题，vip切换到其他机器就不能访问了。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    acl</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> web</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> hdr</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(host) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">-</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> www.abc.com</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    #acl后面是规则名称，-i是要访问的域名，</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    acl</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> hdr</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(host) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">-</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> img.abc.com</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    如果访问www.abc.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">com这个域名就分发到下面的webserver</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> 的作用域。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    #如果访问img.abc.com.cn就分发到imgserver这个作用域。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    use_backend</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> webserver </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> web</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    use_backend</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> imgserver </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> img</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">########backend后端配置##############</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">backend</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> webserver             </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#webserver作用域</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    mode</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> http</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    balance</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">   roundrobin</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    #banlance roundrobin 轮询，balance source 保存session值，支持static-rr，leastconn，first，uri等参数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    option</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  httpchk </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">index.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> HTTP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">1.0</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  #健康检查</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    #检测文件，如果分发到后台index.html访问不到就不再分发给它</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    server</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">  web1</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 10.16</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">9</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">8085</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> cookie</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 1</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> weight</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 5</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> check</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> inter</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 2000</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> rise</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 2</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> fall</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    server</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">  web2</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 10.16</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">8085</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> cookie</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 2</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> weight</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 3</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> check</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> inter</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 2000</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> rise</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 2</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> fall</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 3</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    #cookie 1表示serverid为1，check inter 1500 是检测心跳频率</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    #rise 2是2次正确认为服务器可用，fall 3是3次失败认为服务器不可用，weight代表权重</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">backend</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> imgserver</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    mode</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> http</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    option</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  httpchk </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">index.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    balance</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">     roundrobin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    server</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">      img01</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 192.168</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">137</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">101</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">80</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">  check</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> inter</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 2000</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> fall</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    server</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">      img02</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 192.168</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">137</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">102</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">80</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">  check</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> inter</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 2000</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> fall</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">########tcp配置#################</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> test1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        bind</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">90</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        mode</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> tcp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    option</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  tcplog          </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#日志类别,采用tcplog</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        maxconn</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 4086</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">        #log 127.0.0.1 local0 debug</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        server</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> s1</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 10.18</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">138</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">201</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">80</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">  weight</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        server</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> s2</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 10.18</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">102</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">190</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#B31D28;--shiki-dark:#FF938A;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">80</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">  weight</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1</span></span></code></pre></div><ul><li><a href="https://hub.docker.com/_/haproxy/" target="_blank" rel="noreferrer">Docker HAProxy</a></li></ul>`,19)]))}const D=i(l,[["render",t]]);export{g as __pageData,D as default};
