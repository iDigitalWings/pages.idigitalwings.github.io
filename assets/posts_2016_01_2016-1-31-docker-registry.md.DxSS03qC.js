import{_ as e,a as s,af as t,o as i}from"./chunks/framework.C87LdZyP.js";const g=JSON.parse('{"title":"Docker Registry","description":"","frontmatter":{"title":"Docker Registry","date":"2016-01-31T00:00:00.000Z","tags":["docker"]},"headers":[],"relativePath":"posts/2016/01/2016-1-31-docker-registry.md","filePath":"posts/2016/01/2016-1-31-docker-registry.md","lastUpdated":1718193786000}'),r={name:"posts/2016/01/2016-1-31-docker-registry.md"};function n(o,a,p,d,l,c){return i(),s("div",null,a[0]||(a[0]=[t(`<p>主页上的介绍：</p><p><a href="https://www.docker.com/products/docker-registry" target="_blank" rel="noreferrer">Docker Registry</a> is an open source application dedicated to the storage and distribution of your Docker images.</p><h2 id="运行-docker-registry-v2" tabindex="-1">运行 docker registry v2. <a class="header-anchor" href="#运行-docker-registry-v2" aria-label="Permalink to &quot;运行 docker registry v2.&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span>docker run -d -p 5000:5000 --restart=always --name registry registry:2</span></span></code></pre></div><h2 id="tag-image-到你的-registry" tabindex="-1">Tag image 到你的 registry <a class="header-anchor" href="#tag-image-到你的-registry" aria-label="Permalink to &quot;Tag image 到你的 registry&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span>docker tag ubuntu localhost:5000/ubuntu</span></span>
<span class="line"><span>#or some other name</span></span>
<span class="line"><span>docker tag ubuntu localhost:5000/ubuntu_new_image_name</span></span></code></pre></div><p><code>localhost:5000</code> 是你的本机地址.</p><p>用 <code>docker images</code> 命令来查看结果</p><h2 id="push-to-your-registry" tabindex="-1">push to your registry <a class="header-anchor" href="#push-to-your-registry" aria-label="Permalink to &quot;push to your registry&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span>docker push localhost:5000/ubuntu</span></span></code></pre></div><h2 id="pull-in-other-machine" tabindex="-1">pull in other machine <a class="header-anchor" href="#pull-in-other-machine" aria-label="Permalink to &quot;pull in other machine&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span>docker pull 182.168.xxx.xxx:5000/ubuntu_new_image_name</span></span></code></pre></div><h2 id="stop-registry" tabindex="-1">stop registry <a class="header-anchor" href="#stop-registry" aria-label="Permalink to &quot;stop registry&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span>docker stop registry &amp;&amp; docker rm -v registry</span></span></code></pre></div><h2 id="启动参数" tabindex="-1">启动参数 <a class="header-anchor" href="#启动参数" aria-label="Permalink to &quot;启动参数&quot;">​</a></h2><h3 id="存储位置" tabindex="-1">存储位置 <a class="header-anchor" href="#存储位置" aria-label="Permalink to &quot;存储位置&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span>docker run -d -p 5000:5000 --restart=always --name registry \\</span></span>
<span class="line"><span>  -v \`pwd\`/data:/var/lib/registry \\</span></span>
<span class="line"><span>  registry:2</span></span></code></pre></div><p><code>pwd/data</code> 就是你要本机存储的位置。</p><h3 id="配置文件" tabindex="-1">配置文件 <a class="header-anchor" href="#配置文件" aria-label="Permalink to &quot;配置文件&quot;">​</a></h3><p>指定本地路径（如 <code>/home/user/registry-conf</code> ）下的配置文件</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span>sudo docker run -d -p 5000:5000 \\</span></span>
<span class="line"><span>   -v /home/user/registry-conf:/registry-conf \\</span></span>
<span class="line"><span>   -e DOCKER_REGISTRY_CONFIG=/registry-conf/config.yml \\</span></span>
<span class="line"><span>   registry</span></span></code></pre></div><hr><div style="text-align:center;color:#00000099;font-size:14px;">END</div>`,23)]))}const u=e(r,[["render",n]]);export{g as __pageData,u as default};
