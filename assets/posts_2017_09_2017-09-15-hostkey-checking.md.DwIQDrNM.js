import{_ as e,a as s,o as t,aj as i}from"./chunks/framework.Ba_Ek9Jm.js";const _=JSON.parse('{"title":"Disable host key checking","description":"","frontmatter":{"title":"Disable host key checking","date":"2017-09-15T00:00:00.000Z","tags":["ansible"],"category":["DevOps"]},"headers":[],"relativePath":"posts/2017/09/2017-09-15-hostkey-checking.md","filePath":"posts/2017/09/2017-09-15-hostkey-checking.md","lastUpdated":1718193786000}'),a={name:"posts/2017/09/2017-09-15-hostkey-checking.md"},n=i(`<p>错误:</p><blockquote><p>&quot;Using a SSH password instead of a key is not possible because Host Key checking is enabled and sshpass does not support this.</p></blockquote><p>Ansible 1.2.1 版本之后默认进行 host key checking.</p><ul><li>If a host is reinstalled and has a different key in ‘known_hosts’, this will result in an error message until corrected.</li><li>If a host is not initially in ‘known_hosts’ this will result in prompting for confirmation of the key, which results in an interactive experience if using Ansible, from say, cron. You might not want this.</li></ul><p>If you understand the implications and wish to disable this behavior, you can do so by editing <code>/etc/ansible/ansible.cfg</code> or <code>~/.ansible.cfg</code>:</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">[defaults]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">host_key_checking</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> = False</span></span></code></pre></div><p>Alternatively this can be set by the <code>ANSIBLE_HOST_KEY_CHECKING</code> environment variable:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> export</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ANSIBLE_HOST_KEY_CHECKING=False</span></span></code></pre></div><hr><ul><li><a href="http://docs.ansible.com/ansible/latest/intro_getting_started.html#host-key-checking" target="_blank" rel="noreferrer">http://docs.ansible.com/ansible/latest/intro_getting_started.html#host-key-checking</a></li></ul><hr><div style="text-align:center;color:#00000099;font-size:14px;">END</div>`,12),o=[n];function l(c,h,p,r,d,k){return t(),s("div",null,o)}const b=e(a,[["render",l]]);export{_ as __pageData,b as default};
