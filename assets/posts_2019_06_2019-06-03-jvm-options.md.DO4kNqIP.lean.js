import{_ as i,a,af as h,o as n}from"./chunks/framework.C87LdZyP.js";const d=JSON.parse('{"title":"JVM生产环境参数","description":"","frontmatter":{"title":"JVM生产环境参数","date":"2019-06-03T00:00:00.000Z","tags":["linux","jvm"]},"headers":[],"relativePath":"posts/2019/06/2019-06-03-jvm-options.md","filePath":"posts/2019/06/2019-06-03-jvm-options.md","lastUpdated":1718173059000}'),k={name:"posts/2019/06/2019-06-03-jvm-options.md"};function t(l,s,p,e,F,r){return n(),a("div",null,s[0]||(s[0]=[h(`<h2 id="java-8" tabindex="-1">Java &lt; 8 <a class="header-anchor" href="#java-8" aria-label="Permalink to &quot;Java &lt; 8&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -server</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -Xms</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;heap </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">siz</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">[g</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">k]</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Xmx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">heap</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> siz</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">[g</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">k]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -XX:PermSize</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;perm </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">gen</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> siz</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">[g</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">k]</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -XX:MaxPermSize=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">perm</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gen</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> siz</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">[g</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">k]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -Xmn</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;young </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">siz</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">[g</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">k]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -XX:SurvivorRatio</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;ratio&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -XX:+UseConcMarkSweepGC</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -XX:+CMSParallelRemarkEnabled</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -XX:+UseCMSInitiatingOccupancyOnly</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -XX:CMSInitiatingOccupancyFraction=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">percent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -XX:+ScavengeBeforeFullGC</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -XX:+CMSScavengeBeforeRemark</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -XX:+PrintGCDateStamps</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -verbose:gc</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -XX:+PrintGCDetails</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Xloggc:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;&lt;path to log&gt;&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -XX:+UseGCLogFileRotation</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -XX:NumberOfGCLogFiles=10</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -XX:GCLogFileSize=100M</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -Dsun.net.inetaddr.ttl</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;TTL </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> second</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -XX:+HeapDumpOnOutOfMemoryError</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -XX:HeapDumpPath=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">path</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> dum</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">date</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">.hprof</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -Djava.rmi.server.hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;external </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">I</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -Dcom.sun.management.jmxremote.port</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;port&gt; </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -Dcom.sun.management.jmxremote.authenticate</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -Dcom.sun.management.jmxremote.ssl</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">false</span></span></code></pre></div><h2 id="java-8-1" tabindex="-1">java&gt;=8 <a class="header-anchor" href="#java-8-1" aria-label="Permalink to &quot;java&gt;=8&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -server</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -Xms</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;heap </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">siz</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">[g</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">k]</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Xmx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">heap</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> siz</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">[g</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">k]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -XX:MaxMetaspaceSize</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;metaspace </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">siz</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">[g</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">k]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -Xmn</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;young </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">siz</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">[g</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">k]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -XX:SurvivorRatio</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;ratio&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -XX:+UseConcMarkSweepGC</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -XX:+CMSParallelRemarkEnabled</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -XX:+UseCMSInitiatingOccupancyOnly</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -XX:CMSInitiatingOccupancyFraction=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">percent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -XX:+ScavengeBeforeFullGC</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -XX:+CMSScavengeBeforeRemark</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -XX:+PrintGCDateStamps</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -verbose:gc</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -XX:+PrintGCDetails</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Xloggc:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;&lt;path to log&gt;&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -XX:+UseGCLogFileRotation</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -XX:NumberOfGCLogFiles=10</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -XX:GCLogFileSize=100M</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -Dsun.net.inetaddr.ttl</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;TTL </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> second</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -XX:+HeapDumpOnOutOfMemoryError</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -XX:HeapDumpPath=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">path</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> dum</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">date</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">.hprof</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -Djava.rmi.server.hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;external </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">I</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -Dcom.sun.management.jmxremote.port</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;port&gt; </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -Dcom.sun.management.jmxremote.authenticate</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    -Dcom.sun.management.jmxremote.ssl</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">false</span></span></code></pre></div><hr><ul><li><a href="https://blog.sokolenko.me/2014/11/javavm-options-production.html" target="_blank" rel="noreferrer">Java VM Options You Should Always Use in Production</a></li></ul>`,6)]))}const y=i(k,[["render",t]]);export{d as __pageData,y as default};
