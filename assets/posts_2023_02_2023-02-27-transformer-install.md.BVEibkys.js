import{_ as i,a,af as e,o as t}from"./chunks/framework.C87LdZyP.js";const n="/assets/download-icon.9TVMKSdt.png",c=JSON.parse('{"title":"todo Transformer å®‰è£…æ•™ç¨‹","description":"","frontmatter":{"title":"todo Transformer å®‰è£…æ•™ç¨‹","date":"2023-02-27T00:00:00.000Z","tags":["ai","ml"],"category":["AI"]},"headers":[],"relativePath":"posts/2023/02/2023-02-27-transformer-install.md","filePath":"posts/2023/02/2023-02-27-transformer-install.md","lastUpdated":1718173059000}'),h={name:"posts/2023/02/2023-02-27-transformer-install.md"};function p(l,s,r,k,d,o){return t(),a("div",null,s[0]||(s[0]=[e('<p>ä¸ºæ‚¨æ­£åœ¨ä½¿ç”¨çš„ä»»ä½•æ·±åº¦å­¦ä¹ åº“å®‰è£…ğŸ¤—è½¬æ¢å™¨ï¼Œè®¾ç½®ç¼“å­˜ï¼Œå¹¶é€‰æ‹©æ€§åœ°å°†è½¬æ¢å™¨é…ç½®ä¸ºğŸ¤—è„±æœºè¿è¡Œã€‚</p><p>ğŸ¤— Transformers åœ¨ Python 3.6+ã€PyTorch 1.1.0+ã€TensorFlow 2.0+ å’Œ Flax ä¸Šè¿›è¡Œäº†æµ‹è¯•ã€‚</p><h2 id="ä½¿ç”¨-pip-å®‰è£…" tabindex="-1">ä½¿ç”¨ Pip å®‰è£… <a class="header-anchor" href="#ä½¿ç”¨-pip-å®‰è£…" aria-label="Permalink to &quot;ä½¿ç”¨ Pip å®‰è£…&quot;">â€‹</a></h2><p>é¦–å…ˆåœ¨é¡¹ç›®ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">python</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> venv</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> .env</span></span></code></pre></div><p>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒã€‚åœ¨ Linux å’Œ MacOS ä¸Šï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> .env/bin/activate</span></span></code></pre></div><p>åœ¨è§†çª—ä¸Šæ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">.env/Scripts/activate</span></span></code></pre></div><p>ç°åœ¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ğŸ¤—è½¬æ¢å™¨ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> transformers</span></span></code></pre></div><p>ä»…å¯¹äº CPU æ”¯æŒï¼Œæ‚¨å¯ä»¥æ–¹ä¾¿åœ°åœ¨ä¸€è¡Œä¸­å®‰è£…ğŸ¤—è½¬æ¢å™¨å’Œæ·±åº¦å­¦ä¹ åº“ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… ğŸ¤— Transformers å’Œ PyTorchï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;transformers[torch]&#39;</span></span></code></pre></div><p>ğŸ¤— è½¬æ¢å™¨å’ŒTensorFlow 2.0ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;transformers[tf-cpu]&#39;</span></span></code></pre></div><p>M1 / ARMç”¨æˆ·</p><p>åœ¨å®‰è£… TensorFLow 2.0 ä¹‹å‰ï¼Œæ‚¨éœ€è¦å®‰è£…ä»¥ä¸‹å†…å®¹</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> cmake</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> pkg-config</span></span></code></pre></div><p>ğŸ¤— Transformer å’Œ FLaxï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;transformers[flax]&#39;</span></span></code></pre></div><p>æœ€åï¼Œé€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥Transformeræ˜¯å¦å·²ğŸ¤—æ­£ç¡®å®‰è£…ã€‚å®ƒå°†ä¸‹è½½ä¸€ä¸ªé¢„è®­ç»ƒæ¨¡å‹ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">python</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;from transformers import pipeline; print(pipeline(&#39;sentiment-analysis&#39;)(&#39;we love you&#39;))&quot;</span></span></code></pre></div><p>ç„¶åæ‰“å°å‡ºæ ‡ç­¾å¹¶è¯„åˆ†ï¼š</p><div class="language-json5 vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json5</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[{</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;label&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;POSITIVE&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;score&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">0.9998704791069031</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}]</span></span></code></pre></div><h2 id="ä»æºä»£ç å®‰è£…" tabindex="-1">ä»æºä»£ç å®‰è£… <a class="header-anchor" href="#ä»æºä»£ç å®‰è£…" aria-label="Permalink to &quot;ä»æºä»£ç å®‰è£…&quot;">â€‹</a></h2><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä»æºä»£ç å®‰è£…ğŸ¤—è½¬æ¢å™¨ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> git+https://github.com/huggingface/transformers</span></span></code></pre></div><p>æ­¤å‘½ä»¤å®‰è£…æœ€å‰æ²¿ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯æœ€æ–°ç‰ˆæœ¬ã€‚è¯¥ç‰ˆæœ¬å¯¹äºäº†è§£æœ€æ–°å‘å±•éå¸¸æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè‡ªä¸Šæ¬¡æ­£å¼å‘å¸ƒä»¥æ¥å·²ä¿®å¤é”™è¯¯ï¼Œä½†å°šæœªæ¨å‡ºæ–°ç‰ˆæœ¬ã€‚ä½†æ˜¯ï¼Œè¿™æ„å‘³ç€ç‰ˆæœ¬å¯èƒ½å¹¶ä¸æ€»æ˜¯ç¨³å®šçš„ã€‚æˆ‘ä»¬åŠªåŠ›ä¿æŒç‰ˆæœ¬æ­£å¸¸è¿è¡Œï¼Œå¤§å¤šæ•°é—®é¢˜é€šå¸¸åœ¨å‡ ä¸ªå°æ—¶æˆ–ä¸€å¤©å†…è§£å†³ã€‚å¦‚æœæ‚¨é‡åˆ°é—®é¢˜ï¼Œè¯·æ‰“å¼€ä¸€ä¸ªé—®é¢˜ï¼Œä»¥ä¾¿æˆ‘ä»¬æ›´å¿«åœ°ä¿®å¤å®ƒï¼<code>main``stable``main``main``main</code></p><p>ğŸ¤— é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æ˜¯å¦å·²æ­£ç¡®å®‰è£…å˜å‹å™¨ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">python</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;from transformers import pipeline; print(pipeline(&#39;sentiment-analysis&#39;)(&#39;I love you&#39;))&quot;</span></span></code></pre></div><h2 id="ä½¿ç”¨-conda-å®‰è£…" tabindex="-1">ä½¿ç”¨ conda å®‰è£… <a class="header-anchor" href="#ä½¿ç”¨-conda-å®‰è£…" aria-label="Permalink to &quot;ä½¿ç”¨ conda å®‰è£…&quot;">â€‹</a></h2><p>ä» conda é€šé“å®‰è£…ï¼š<code>huggingface</code></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> huggingface</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> transformers</span></span></code></pre></div><h2 id="ç¼“å­˜è®¾ç½®" tabindex="-1">ç¼“å­˜è®¾ç½® <a class="header-anchor" href="#ç¼“å­˜è®¾ç½®" aria-label="Permalink to &quot;ç¼“å­˜è®¾ç½®&quot;">â€‹</a></h2><p>é¢„è®­ç»ƒæ¨¡å‹ä¸‹è½½å¹¶æœ¬åœ°ç¼“å­˜åœ¨ï¼šã€‚è¿™æ˜¯ shell ç¯å¢ƒå˜é‡ç»™å‡ºçš„é»˜è®¤ç›®å½•ã€‚åœ¨ Windows ä¸Šï¼Œé»˜è®¤ç›®å½•ç”± æä¾›ã€‚æ‚¨å¯ä»¥æ›´æ”¹å¦‚ä¸‹æ‰€ç¤ºçš„ shell ç¯å¢ƒå˜é‡ - æŒ‰ä¼˜å…ˆçº§é¡ºåº - ä»¥æŒ‡å®šä¸åŒçš„ç¼“å­˜ç›®å½•ï¼š<code>~/.cache/huggingface/hub``TRANSFORMERS_CACHE``C:\\Users\\username\\.cache\\huggingface\\hub</code></p><ol><li>å¤–å£³ç¯å¢ƒå˜é‡ï¼ˆé»˜è®¤ï¼‰ï¼šæˆ– ã€‚<code>HUGGINGFACE_HUB_CACHE``TRANSFORMERS_CACHE</code></li><li>å¤–å£³ç¯å¢ƒå˜é‡ï¼šã€‚<code>HF_HOME</code></li><li>å¤–å£³ç¯å¢ƒå˜é‡ï¼š + ã€‚<code>XDG_CACHE_HOME``/huggingface</code></li></ol><p>ğŸ¤— è½¬æ¢å™¨å°†ä½¿ç”¨ shell ç¯å¢ƒå˜é‡ï¼Œæˆ–è€…å¦‚æœæ‚¨æ¥è‡ªæ­¤åº“çš„æ—©æœŸè¿­ä»£å¹¶è®¾ç½®äº†è¿™äº›ç¯å¢ƒå˜é‡ï¼Œé™¤éæ‚¨æŒ‡å®š shell ç¯å¢ƒå˜é‡ ã€‚<code>PYTORCH_TRANSFORMERS_CACHE``PYTORCH_PRETRAINED_BERT_CACHE``TRANSFORMERS_CACHE</code></p><h2 id="ç¦»çº¿æ¨¡å¼" tabindex="-1">ç¦»çº¿æ¨¡å¼ <a class="header-anchor" href="#ç¦»çº¿æ¨¡å¼" aria-label="Permalink to &quot;ç¦»çº¿æ¨¡å¼&quot;">â€‹</a></h2><p>ğŸ¤— è½¬æ¢å™¨èƒ½å¤Ÿä»…ä½¿ç”¨æœ¬åœ°æ–‡ä»¶åœ¨é˜²ç«å¢™æˆ–è„±æœºç¯å¢ƒä¸­è¿è¡Œã€‚è®¾ç½®ç¯å¢ƒå˜é‡ä»¥å¯ç”¨æ­¤è¡Œä¸ºã€‚<code>TRANSFORMERS_OFFLINE=1</code></p><p>é€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡å°†æ•°æ®é›†æ·»åŠ åˆ°ğŸ¤—ç¦»çº¿è®­ç»ƒå·¥ä½œæµã€‚<code>HF_DATASETS_OFFLINE=1</code></p><p>ä¾‹å¦‚ï¼Œé€šå¸¸ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åœ¨é˜²ç«å¢™è¿æ¥åˆ°å¤–éƒ¨å®ä¾‹çš„æ™®é€šç½‘ç»œä¸Šè¿è¡Œç¨‹åºï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> examples/pytorch/translation/run_translation.py</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --model_name_or_path</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> t5-small</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --dataset_name</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> wmt16</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --dataset_config</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ro-en</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ...</span></span></code></pre></div><p>åœ¨è„±æœºå®ä¾‹ä¸­è¿è¡Œæ­¤ç›¸åŒç¨‹åºï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">HF_DATASETS_OFFLINE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> TRANSFORMERS_OFFLINE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">1</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">python </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">examples/pytorch/translation/run_translation.py</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --model_name_or_path</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> t5-small</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --dataset_name</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> wmt16</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --dataset_config</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ro-en</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ...</span></span></code></pre></div><p>è„šæœ¬ç°åœ¨åº”è¯¥åœ¨ä¸æŒ‚èµ·æˆ–ç­‰å¾…è¶…æ—¶çš„æƒ…å†µä¸‹è¿è¡Œï¼Œå› ä¸ºå®ƒçŸ¥é“å®ƒåº”è¯¥åªæŸ¥æ‰¾æœ¬åœ°æ–‡ä»¶ã€‚</p><h3 id="è·å–æ¨¡å‹å’Œåˆ†è¯å™¨ä»¥ç¦»çº¿ä½¿ç”¨" tabindex="-1">è·å–æ¨¡å‹å’Œåˆ†è¯å™¨ä»¥ç¦»çº¿ä½¿ç”¨ <a class="header-anchor" href="#è·å–æ¨¡å‹å’Œåˆ†è¯å™¨ä»¥ç¦»çº¿ä½¿ç”¨" aria-label="Permalink to &quot;è·å–æ¨¡å‹å’Œåˆ†è¯å™¨ä»¥ç¦»çº¿ä½¿ç”¨&quot;">â€‹</a></h3><p>è„±æœºä½¿ç”¨å˜å½¢é‡‘åˆšçš„å¦ä¸€ä¸ªé€‰é¡¹æ˜¯æå‰ä¸‹è½½æ–‡ä»¶ï¼Œç„¶ååœ¨éœ€è¦è„±æœºä½¿ç”¨ğŸ¤—å®ƒä»¬æ—¶æŒ‡å‘å…¶æœ¬åœ°è·¯å¾„ã€‚æœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼š</p><ul><li>é€šè¿‡<a href="https://huggingface.co/models" target="_blank" rel="noreferrer">æ¨¡å‹ä¸­å¿ƒçš„open in new window</a>ç”¨æˆ·ç•Œé¢ï¼Œå•å‡» â†“ å›¾æ ‡ä¸‹è½½æ–‡ä»¶ã€‚ <img src="'+n+`" alt="download-icon.png"></li><li>ä½¿ç”¨ [PreTrainedModel.from_pretrained()open in new window](<a href="https://huggingface.co/docs/transformers/v4.28.1/en/main_classes/model#" target="_blank" rel="noreferrer">https://huggingface.co/docs/transformers/v4.28.1/en/main_classes/model#</a> å·¥ä½œæµï¼š <ol><li><p>ä½¿ç”¨ <a href="https://huggingface.co/docs/transformers/v4.28.1/en/main_classes/model#transformers.PreTrainedModel.from_pretrained" target="_blank" rel="noreferrer">PreTrainedModel.from_pretrained()open in new window</a> æå‰ä¸‹è½½æ–‡ä»¶ï¼š</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> transformers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> AutoTokenizer, AutoModelForSeq2SeqLM</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> tokenizer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> AutoTokenizer.from_pretrained(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;bigscience/T0_3B&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> model </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> AutoModelForSeq2SeqLM.from_pretrained(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;bigscience/T0_3B&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span></code></pre></div></li><li><p>ä½¿ç”¨ <a href="https://huggingface.co/docs/transformers/v4.28.1/en/main_classes/model#transformers.PreTrainedModel.save_pretrained" target="_blank" rel="noreferrer">PreTrainedModel.save_pretrained()open in new window</a> å°†æ–‡ä»¶ä¿å­˜åˆ°æŒ‡å®šç›®å½•ï¼š</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> tokenizer.save_pretrained(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;./your/path/bigscience_t0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> model.save_pretrained(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;./your/path/bigscience_t0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span></code></pre></div></li><li><p>ç°åœ¨ï¼Œå½“æ‚¨ç¦»çº¿æ—¶ï¼Œä½¿ç”¨ <a href="https://huggingface.co/docs/transformers/v4.28.1/en/main_classes/model#transformers.PreTrainedModel.from_pretrained" target="_blank" rel="noreferrer">PreTrainedModel.from_pretrained()open in new window</a> ä»æŒ‡å®šç›®å½•é‡æ–°åŠ è½½æ–‡ä»¶ï¼š</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> tokenizer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> AutoTokenizer.from_pretrained(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;./your/path/bigscience_t0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> model </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> AutoModel.from_pretrained(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;./your/path/bigscience_t0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span></code></pre></div></li></ol></li><li>ä½¿ç”¨ <a href="https://github.com/huggingface/huggingface_hub/tree/main/src/huggingface_hub" target="_blank" rel="noreferrer">huggingface_hubopen in new window</a> åº“ä»¥ç¼–ç¨‹æ–¹å¼ä¸‹è½½æ–‡ä»¶ï¼š <ol><li><p>åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…åº“ï¼š<code>huggingface_hub</code></p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">python </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">m pip install huggingface_hub</span></span></code></pre></div></li><li><p>ä½¿ç”¨ hf_hub_download åŠŸèƒ½å°†æ–‡ä»¶ä¸‹è½½åˆ°ç‰¹å®šè·¯å¾„ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹å‘½ä»¤å°†æ–‡ä»¶ä» T0 æ¨¡å‹ä¸‹è½½åˆ°æ‰€éœ€è·¯å¾„ï¼š<code>config.json</code></p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> huggingface_hub </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> hf_hub_download</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> hf_hub_download(</span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">repo_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;bigscience/T0_3B&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">filename</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;config.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">cache_dir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;./your/path/bigscience_t0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span></code></pre></div></li></ol></li></ul><p>ä¸‹è½½æ–‡ä»¶å¹¶æœ¬åœ°ç¼“å­˜åï¼Œè¯·æŒ‡å®šè¦åŠ è½½å’Œä½¿ç”¨å®ƒçš„æœ¬åœ°è·¯å¾„ï¼š</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> transformers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> AutoConfig</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> config </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> AutoConfig.from_pretrained(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;./your/path/bigscience_t0/config.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span></code></pre></div><p>æœ‰å…³ä¸‹è½½å­˜å‚¨åœ¨ Hub ä¸Šçš„æ–‡ä»¶çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://huggingface.co/docs/hub/how-to-downstream" target="_blank" rel="noreferrer">å¦‚ä½•ä» Hub ä¸‹è½½æ–‡ä»¶open in new window</a>éƒ¨åˆ†ã€‚</p><p><a href="https://huggingface.co/docs/transformers/quicktour" target="_blank" rel="noreferrer">â†open in new window</a></p><hr><ul><li><a href="https://huggingface.co/docs/transformers/installation" target="_blank" rel="noreferrer">https://huggingface.co/docs/transformers/installation</a></li></ul>`,54)]))}const F=i(h,[["render",p]]);export{c as __pageData,F as default};
